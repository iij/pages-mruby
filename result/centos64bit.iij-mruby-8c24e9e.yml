--- 
:date: 2012-12-02 14:35:03.612774 +09:00
:id: iij-mruby-8c24e9e
:zipball_url: https://github.com/iij/mruby/zipball/8c24e9e
:make: 
  :stdout: |-
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c array.c -o array.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c cdump.c -o cdump.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c class.c -o class.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c codegen.c -o codegen.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c compar.c -o compar.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c crc.c -o crc.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c dump.c -o dump.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c enum.c -o enum.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c error.c -o error.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c etc.c -o etc.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c gc.c -o gc.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c hash.c -o hash.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c init.c -o init.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c init_ext.c -o init_ext.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c kernel.c -o kernel.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c load.c -o load.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c math.c -o math.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c numeric.c -o numeric.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c object.c -o object.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c pool.c -o pool.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c print.c -o print.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c proc.c -o proc.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c range.c -o range.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c re.c -o re.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c regcomp.c -o regcomp.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c regenc.c -o regenc.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c regerror.c -o regerror.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c regexec.c -o regexec.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c regparse.c -o regparse.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c sprintf.c -o sprintf.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c st.c -o st.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c state.c -o state.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c string.c -o string.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c struct.c -o struct.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c symbol.c -o symbol.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c time.c -o time.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c variable.c -o variable.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c vm.c -o vm.o
    bison -o ./y.tab.c ./parse.y
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I. -I./../include -c ./y.tab.c -o ./y.tab.o
    ar r ../lib/libmruby_core.a ./array.o ./cdump.o ./class.o ./codegen.o ./compar.o ./crc.o ./dump.o ./enum.o ./error.o ./etc.o ./gc.o ./hash.o ./init.o ./init_ext.o ./kernel.o ./load.o ./math.o ./numeric.o ./object.o ./pool.o ./print.o ./proc.o ./range.o ./re.o ./regcomp.o ./regenc.o ./regerror.o ./regexec.o ./regparse.o ./sprintf.o ./st.o ./state.o ./string.o ./struct.o ./symbol.o ./time.o ./variable.o ./vm.o   ./y.tab.o
    cat ./*.rb > mrblib.rbtmp
    make -C ../tools/mrbc CC='gcc' LL='gcc' ALL_CFLAGS='-Wall -Werror-implicit-function-declaration -g -O3'
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I../../src -I../../src/../include -c ../../src/../tools/mrbc/mrbc.c -o ../../src/../tools/mrbc/mrbc.o
    gcc -o ../../bin/mrbc ../../src/../tools/mrbc/mrbc.o ../../lib/libmruby_core.a -lm
    ../bin/mrbc -Bmrblib_irep -omrblib.ctmp mrblib.rbtmp; cat init_mrblib.c mrblib.ctmp > mrblib.c
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I../src -I../include -c mrblib.c -o mrblib.o
    cp ../lib/libmruby_core.a ../lib/libmruby.a
    ar r ../lib/libmruby.a mrblib.o
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I../../src -I../../src/../include -c ../../src/../tools/mruby/mruby.c -o ../../src/../tools/mruby/mruby.o
    gcc -o ../../bin/mruby -g -O3 ../../src/../tools/mruby/mruby.o ../../lib/libmruby.a  -lm
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I../../src -I../../src/../include -c ../../src/../tools/mirb/mirb.c -o ../../src/../tools/mirb/mirb.o
    gcc -o ../../bin/mirb -g -O3 ../../src/../tools/mirb/mirb.o ../../lib/libmruby.a  -lm
  :stderr: |-
    load.c: In function 'mrb_load_irep':
    load.c:140: warning: 'hex2' may be used uninitialized in this function
    load.c:140: note: 'hex2' was declared here
    ar: creating ../lib/libmruby_core.a
  :status_info: !ruby/object:Process::Status {}

  :status: success
:make_test: 
  :stdout: |-
    make[1]: Nothing to be done for `all'.
    make[1]: Nothing to be done for `all'.
    make[1]: Nothing to be done for `all'.
    make[1]: Nothing to be done for `all'.
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I./../src -I./../include -c driver.c -o driver.o
    cat ./assert.rb ./t/*.rb > mrbtest.rbtmp
    ../bin/mrbc -Bmrbtest_irep -omrbtest.ctmp mrbtest.rbtmp; cat init_mrbtest.c mrbtest.ctmp > mrbtest.c
    gcc -Wall -Werror-implicit-function-declaration -g -O3 -MMD -I./../src -I./../include -c mrbtest.c -o mrbtest.o
    gcc -o mrbtest -g -O3 driver.o mrbtest.o ../lib/libmruby.a -lm
    cat ./assert.rb ./t/*.rb ./report.rb > mrubytest.rb
    ../bin/mrbc mrubytest.rb
    # exec mrbtest
    ./mrbtest
    mrbtest - Embeddable Ruby Test
    
    This is a very early version, please test and report errors.
    Thanks :)
    
    ................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
    Total: 496
       OK: 496
       KO: 0
    Crash: 0
     Time: 0.058411 seconds
    
    # exec mruby test with ruby script
    mrubytest.rb success.
    
    # exec mruby test with mrb file
  :stderr: |-
    failed to load mrb file: mrubytest.mrb
    *** glibc detected *** ../bin/mruby: double free or corruption (!prev): 0x000000000172d960 ***
    ======= Backtrace: =========
    /lib64/libc.so.6(+0x75916)[0x7f0da61d9916]
    /lib64/libc.so.6(+0x78443)[0x7f0da61dc443]
    ../bin/mruby[0x41f3b5]
    ../bin/mruby[0x41f313]
    ../bin/mruby[0x4020b8]
    /lib64/libc.so.6(__libc_start_main+0xfd)[0x7f0da6182cdd]
    ../bin/mruby[0x401a99]
    ======= Memory map: ========
    00400000-00474000 r-xp 00000000 fd:00 23240                              /home/mruby/mruby-test-tool/tmp/20121202143506-30664-build/iij-mruby-8c24e9e/bin/mruby
    00673000-00674000 rw-p 00073000 fd:00 23240                              /home/mruby/mruby-test-tool/tmp/20121202143506-30664-build/iij-mruby-8c24e9e/bin/mruby
    016f4000-01763000 rw-p 00000000 00:00 0                                  [heap]
    7f0da5f4e000-7f0da5f64000 r-xp 00000000 fd:00 13                         /lib64/libgcc_s-4.4.6-20120305.so.1
    7f0da5f64000-7f0da6163000 ---p 00016000 fd:00 13                         /lib64/libgcc_s-4.4.6-20120305.so.1
    7f0da6163000-7f0da6164000 rw-p 00015000 fd:00 13                         /lib64/libgcc_s-4.4.6-20120305.so.1
    7f0da6164000-7f0da62ed000 r-xp 00000000 fd:00 28                         /lib64/libc-2.12.so
    7f0da62ed000-7f0da64ed000 ---p 00189000 fd:00 28                         /lib64/libc-2.12.so
    7f0da64ed000-7f0da64f1000 r--p 00189000 fd:00 28                         /lib64/libc-2.12.so
    7f0da64f1000-7f0da64f2000 rw-p 0018d000 fd:00 28                         /lib64/libc-2.12.so
    7f0da64f2000-7f0da64f7000 rw-p 00000000 00:00 0 
    7f0da64f7000-7f0da657a000 r-xp 00000000 fd:00 36                         /lib64/libm-2.12.so
    7f0da657a000-7f0da6779000 ---p 00083000 fd:00 36                         /lib64/libm-2.12.so
    7f0da6779000-7f0da677a000 r--p 00082000 fd:00 36                         /lib64/libm-2.12.so
    7f0da677a000-7f0da677b000 rw-p 00083000 fd:00 36                         /lib64/libm-2.12.so
    7f0da677b000-7f0da679b000 r-xp 00000000 fd:00 580                        /lib64/ld-2.12.so
    7f0da6991000-7f0da6994000 rw-p 00000000 00:00 0 
    7f0da6998000-7f0da699a000 rw-p 00000000 00:00 0 
    7f0da699a000-7f0da699b000 r--p 0001f000 fd:00 580                        /lib64/ld-2.12.so
    7f0da699b000-7f0da699c000 rw-p 00020000 fd:00 580                        /lib64/ld-2.12.so
    7f0da699c000-7f0da699d000 rw-p 00000000 00:00 0 
    7fff30f8a000-7fff30f9f000 rw-p 00000000 00:00 0                          [stack]
    7fff30fff000-7fff31000000 r-xp 00000000 00:00 0                          [vdso]
    ffffffffff600000-ffffffffff601000 r-xp 00000000 00:00 0                  [vsyscall]
    /bin/sh: line 1: 30858 Aborted                 ../bin/mruby -b mrubytest.mrb > mrubytest.mrb.report
  :status_info: !ruby/object:Process::Status {}

  :status: success
  :mrubytest_rb: |
    ................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
    Total: 496
       OK: 496
       KO: 0
    Crash: 0
     Time: 0.003966 seconds

  :mrubytest_mrb: ""
:repository: iij/mruby
:commit: 8c24e9e
:ball_id: iij-mruby-8c24e9e
:hostname: centos64bit
:env: 
  :gcc: 
    :stdout: |-
      gcc (GCC) 4.4.6 20120305 (Red Hat 4.4.6-4)
      Copyright (C) 2010 Free Software Foundation, Inc.
      This is free software; see the source for copying conditions.  There is NO
      warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
    :stderr: ""
    :status_info: !ruby/object:Process::Status {}

    :status: success
    :path: gcc
  :make: 
    :stdout: |-
      GNU Make 3.81
      Copyright (C) 2006  Free Software Foundation, Inc.
      This is free software; see the source for copying conditions.
      There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
      PARTICULAR PURPOSE.
      
      This program built for x86_64-redhat-linux-gnu
    :stderr: ""
    :status_info: !ruby/object:Process::Status {}

    :status: success
    :path: make
  :bison: 
    :stdout: |-
      bison (GNU Bison) 2.4.1
      Written by Robert Corbett and Richard Stallman.
      
      Copyright (C) 2008 Free Software Foundation, Inc.
      This is free software; see the source for copying conditions.  There is NO
      warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
    :stderr: ""
    :status_info: !ruby/object:Process::Status {}

    :status: success
    :path: bison
:opts: 
  :gcc: gcc
  :make: make
  :bison: bison
