<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>mruby build & test report</title>
    <style>
      pre {
        white-space: -moz-pre-wrap; /* Mozilla */
        white-space: -pre-wrap;     /* Opera 4-6 */
        white-space: -o-pre-wrap;   /* Opera 7 */
        white-space: pre-wrap;      /* CSS3 */
        word-wrap: break-word;      /* IE 5.5+ */
      }
      textarea {
        width: 100%;
        height: 400px;
        font-family: monospace !important;
        font-size: 12px !important;
      }
    </style>
  </head>
  <body>
    <a name="top"></a>
    <div style="background-color:#a0a0a0;">
      
        
        <a href="iij-mruby.html">iij-mruby</a>
      
        
        <a href="mruby-mruby.html">mruby-mruby</a>
      
    </div>

    
    

    <h1>mruby build & test report
      <span style="font-size:small;">(mruby/mruby - a5bc5b2)</span>
    </h1>

    <ul>
      <li><a href="http://github.com/mruby/mruby/commit/a5bc5b2" target="_blank">commit info on github</a></li>
      
      
        
        
        
          <li><a href="mruby-mruby.html">back to mruby-mruby</a></li>
        
      
      <li>
      <pre>commit a5bc5b2574c1cf000258e9f209319bf65d3a6672
Author: Masaki Muranaka &lt;monaka@monami-ya.jp&gt;
Date:   Mon Mar 4 22:27:23 2013 +0900

    Move src/sprintf to mrbgems/mruby-sprintf/src/

</pre>
      <a href="#commitlog">commit log</a>
      </li>
  </ul>

    <h2>mrbtest</h2>
    
    <table border="1">
      <tr>
        
          <th rowspan="2">Name</th>
        
          <th rowspan="2">Build-Status</th>
        
          <th rowspan="2">Mrbtest-Status</th>
        
          <th rowspan="2">Total</th>
        
          <th rowspan="2">OK</th>
        
          <th rowspan="2">KO</th>
        
          <th rowspan="2">Crash</th>
        
          <th rowspan="2">Fail</th>
        
          <th rowspan="2">Msg</th>
        
        <th colspan="2">FileSize (Byte)</th>
      </tr>
      <tr>
        
          <th>bin/mruby</th>
        
          <th>lib/libmruby.a</th>
        
      </tr>
      
        
        
        <tr style="background-color:#ff9999">
          <td><a href="#centos32bit">centos32bit</a></td>
          <td>failed</td>
          <td>failed</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td></td>
          <td></td>
          
            <td style="text-align:right;"></td>
          
            <td style="text-align:right;"></td>
          
        </tr>
      
        
        
        <tr style="background-color:#ff9999">
          <td><a href="#centos64bit">centos64bit</a></td>
          <td>failed</td>
          <td>failed</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td></td>
          <td></td>
          
            <td style="text-align:right;"></td>
          
            <td style="text-align:right;"></td>
          
        </tr>
      
        
        
        <tr style="background-color:#ff9999">
          <td><a href="#freebsd32bit">freebsd32bit</a></td>
          <td>failed</td>
          <td>failed</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td></td>
          <td></td>
          
            <td style="text-align:right;"></td>
          
            <td style="text-align:right;"></td>
          
        </tr>
      
        
        
        <tr style="background-color:#ff9999">
          <td><a href="#freebsd64bit">freebsd64bit</a></td>
          <td>failed</td>
          <td>failed</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td></td>
          <td></td>
          
            <td style="text-align:right;"></td>
          
            <td style="text-align:right;"></td>
          
        </tr>
      
        
        
        <tr style="background-color:#ff9999">
          <td><a href="#mac-lion">mac-lion</a></td>
          <td>failed</td>
          <td>failed</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td></td>
          <td></td>
          
            <td style="text-align:right;"></td>
          
            <td style="text-align:right;"></td>
          
        </tr>
      
        
        
        <tr style="background-color:#ff9999">
          <td><a href="#mac-ppc">mac-ppc</a></td>
          <td>failed</td>
          <td>failed</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td></td>
          <td></td>
          
            <td style="text-align:right;"></td>
          
            <td style="text-align:right;"></td>
          
        </tr>
      
        
        
        <tr style="background-color:#ff9999">
          <td><a href="#netbsd32bit">netbsd32bit</a></td>
          <td>failed</td>
          <td>failed</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td></td>
          <td></td>
          
            <td style="text-align:right;"></td>
          
            <td style="text-align:right;"></td>
          
        </tr>
      
        
        
        <tr style="background-color:#ff9999">
          <td><a href="#netbsd64bit">netbsd64bit</a></td>
          <td>failed</td>
          <td>failed</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td></td>
          <td></td>
          
            <td style="text-align:right;"></td>
          
            <td style="text-align:right;"></td>
          
        </tr>
      
        
        
        <tr style="background-color:#ff9999">
          <td><a href="#netbsd_arm_nb6">netbsd_arm_nb6</a></td>
          <td>failed</td>
          <td>failed</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td></td>
          <td></td>
          
            <td style="text-align:right;"></td>
          
            <td style="text-align:right;"></td>
          
        </tr>
      
        
        
        <tr style="background-color:#ff9999">
          <td><a href="#netbsd_mips">netbsd_mips</a></td>
          <td>failed</td>
          <td>failed</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td></td>
          <td></td>
          
            <td style="text-align:right;"></td>
          
            <td style="text-align:right;"></td>
          
        </tr>
      
        
        
        <tr style="background-color:#ff9999">
          <td><a href="#openbsd32bit">openbsd32bit</a></td>
          <td>failed</td>
          <td>failed</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td></td>
          <td></td>
          
            <td style="text-align:right;"></td>
          
            <td style="text-align:right;"></td>
          
        </tr>
      
        
        
        <tr style="background-color:#ff9999">
          <td><a href="#openbsd64bit">openbsd64bit</a></td>
          <td>failed</td>
          <td>failed</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td></td>
          <td></td>
          
            <td style="text-align:right;"></td>
          
            <td style="text-align:right;"></td>
          
        </tr>
      
        
        
        <tr style="background-color:#ff9999">
          <td><a href="#ubuntu32bit">ubuntu32bit</a></td>
          <td>failed</td>
          <td>failed</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td></td>
          <td></td>
          
            <td style="text-align:right;"></td>
          
            <td style="text-align:right;"></td>
          
        </tr>
      
        
        
        <tr style="background-color:#ff9999">
          <td><a href="#ubuntu64bit">ubuntu64bit</a></td>
          <td>failed</td>
          <td>failed</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td></td>
          <td></td>
          
            <td style="text-align:right;"></td>
          
            <td style="text-align:right;"></td>
          
        </tr>
      
    </table>

    

    <h2>environment <span style="font-size:small;"><a href="#top">#top</a></span></h2>
    <table border='1'>
      <tr>
        <th>Name</th>
        <th>software version</th>
      </tr>
      
        
        <tr>
          <td rowspan="3">centos32bit</td>
          <td><b>gcc</b><br/><pre>gcc (GCC) 4.4.6 20120305 (Red Hat 4.4.6-4)
Copyright (C) 2010 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</pre></td>
        </tr>
        <tr><td><b>make</b><br/><pre>GNU Make 3.81
Copyright (C) 2006  Free Software Foundation, Inc.
This is free software; see the source for copying conditions.
There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE.

This program built for i386-redhat-linux-gnu</pre></td></tr>
        <tr><td><b>bison</b><br/><pre>bison (GNU Bison) 2.4.1
Written by Robert Corbett and Richard Stallman.

Copyright (C) 2008 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</pre></td></tr>
      
        
        <tr>
          <td rowspan="3">centos64bit</td>
          <td><b>gcc</b><br/><pre>gcc (GCC) 4.4.6 20120305 (Red Hat 4.4.6-4)
Copyright (C) 2010 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</pre></td>
        </tr>
        <tr><td><b>make</b><br/><pre>GNU Make 3.81
Copyright (C) 2006  Free Software Foundation, Inc.
This is free software; see the source for copying conditions.
There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE.

This program built for x86_64-redhat-linux-gnu</pre></td></tr>
        <tr><td><b>bison</b><br/><pre>bison (GNU Bison) 2.4.1
Written by Robert Corbett and Richard Stallman.

Copyright (C) 2008 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</pre></td></tr>
      
        
        <tr>
          <td rowspan="3">freebsd32bit</td>
          <td><b>gcc</b><br/><pre>gcc (GCC) 4.2.1 20070831 patched [FreeBSD]
Copyright (C) 2007 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</pre></td>
        </tr>
        <tr><td><b>make</b><br/><pre>GNU Make 3.82
Built for i386-portbld-freebsd9.0
Copyright (C) 2010  Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.</pre></td></tr>
        <tr><td><b>bison</b><br/><pre>bison (GNU Bison) 2.4.3
Written by Robert Corbett and Richard Stallman.

Copyright (C) 2010 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</pre></td></tr>
      
        
        <tr>
          <td rowspan="3">freebsd64bit</td>
          <td><b>gcc</b><br/><pre>gcc (GCC) 4.2.1 20070831 patched [FreeBSD]
Copyright (C) 2007 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</pre></td>
        </tr>
        <tr><td><b>make</b><br/><pre>GNU Make 3.82
Built for amd64-portbld-freebsd9.0
Copyright (C) 2010  Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.</pre></td></tr>
        <tr><td><b>bison</b><br/><pre>bison (GNU Bison) 2.4.3
Written by Robert Corbett and Richard Stallman.

Copyright (C) 2010 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</pre></td></tr>
      
        
        <tr>
          <td rowspan="3">mac-lion</td>
          <td><b>gcc</b><br/><pre>i686-apple-darwin11-llvm-gcc-4.2 (GCC) 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2336.11.00)
Copyright (C) 2007 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</pre></td>
        </tr>
        <tr><td><b>make</b><br/><pre>GNU Make 3.81
Copyright (C) 2006  Free Software Foundation, Inc.
This is free software; see the source for copying conditions.
There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE.

This program built for i386-apple-darwin11.3.0</pre></td></tr>
        <tr><td><b>bison</b><br/><pre>bison (GNU Bison) 2.3
Written by Robert Corbett and Richard Stallman.

Copyright (C) 2006 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</pre></td></tr>
      
        
        <tr>
          <td rowspan="3">mac-ppc</td>
          <td><b>gcc</b><br/><pre>powerpc-apple-darwin9-gcc-4.0.1 (GCC) 4.0.1 (Apple Inc. build 5493)
Copyright (C) 2005 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</pre></td>
        </tr>
        <tr><td><b>make</b><br/><pre>GNU Make 3.81
Copyright (C) 2006  Free Software Foundation, Inc.
This is free software; see the source for copying conditions.
There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE.

This program built for powerpc-apple-darwin9.0</pre></td></tr>
        <tr><td><b>bison</b><br/><pre>bison (GNU Bison) 2.3
Written by Robert Corbett and Richard Stallman.

Copyright (C) 2006 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</pre></td></tr>
      
        
        <tr>
          <td rowspan="3">netbsd32bit</td>
          <td><b>gcc</b><br/><pre>gcc (GCC) 4.1.3 20080704 prerelease (NetBSD nb2 20081120)
Copyright (C) 2006 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</pre></td>
        </tr>
        <tr><td><b>make</b><br/><pre>GNU Make 3.82
Built for i386--netbsdelf
Copyright (C) 2010  Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.</pre></td></tr>
        <tr><td><b>bison</b><br/><pre>bison (GNU Bison) 2.5.1
Written by Robert Corbett and Richard Stallman.

Copyright (C) 2012 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</pre></td></tr>
      
        
        <tr>
          <td rowspan="3">netbsd64bit</td>
          <td><b>gcc</b><br/><pre>gcc (GCC) 4.1.3 20080704 prerelease (NetBSD nb2 20081120)
Copyright (C) 2006 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</pre></td>
        </tr>
        <tr><td><b>make</b><br/><pre>GNU Make 3.82
Built for x86_64--netbsd
Copyright (C) 2010  Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.</pre></td></tr>
        <tr><td><b>bison</b><br/><pre>bison (GNU Bison) 2.5.1
Written by Robert Corbett and Richard Stallman.

Copyright (C) 2012 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</pre></td></tr>
      
        
        <tr>
          <td rowspan="3">netbsd_arm_nb6</td>
          <td><b>gcc</b><br/><pre></pre></td>
        </tr>
        <tr><td><b>make</b><br/><pre></pre></td></tr>
        <tr><td><b>bison</b><br/><pre></pre></td></tr>
      
        
        <tr>
          <td rowspan="3">netbsd_mips</td>
          <td><b>gcc</b><br/><pre></pre></td>
        </tr>
        <tr><td><b>make</b><br/><pre></pre></td></tr>
        <tr><td><b>bison</b><br/><pre></pre></td></tr>
      
        
        <tr>
          <td rowspan="3">openbsd32bit</td>
          <td><b>gcc</b><br/><pre>gcc (GCC) 4.2.1 20070719 
Copyright (C) 2007 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</pre></td>
        </tr>
        <tr><td><b>make</b><br/><pre>GNU Make 3.82
Built for i386-unknown-openbsd5.1
Copyright (C) 2010  Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.</pre></td></tr>
        <tr><td><b>bison</b><br/><pre>bison (GNU Bison) 2.3
Written by Robert Corbett and Richard Stallman.

Copyright (C) 2006 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</pre></td></tr>
      
        
        <tr>
          <td rowspan="3">openbsd64bit</td>
          <td><b>gcc</b><br/><pre>gcc (GCC) 4.2.1 20070719 
Copyright (C) 2007 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</pre></td>
        </tr>
        <tr><td><b>make</b><br/><pre>GNU Make 3.82
Built for x86_64-unknown-openbsd5.1
Copyright (C) 2010  Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.</pre></td></tr>
        <tr><td><b>bison</b><br/><pre>bison (GNU Bison) 2.3
Written by Robert Corbett and Richard Stallman.

Copyright (C) 2006 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</pre></td></tr>
      
        
        <tr>
          <td rowspan="3">ubuntu32bit</td>
          <td><b>gcc</b><br/><pre>gcc (Ubuntu/Linaro 4.6.3-1ubuntu5) 4.6.3
Copyright (C) 2011 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</pre></td>
        </tr>
        <tr><td><b>make</b><br/><pre>GNU Make 3.81
Copyright (C) 2006  Free Software Foundation, Inc.
This is free software; see the source for copying conditions.
There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE.

This program built for i686-pc-linux-gnu</pre></td></tr>
        <tr><td><b>bison</b><br/><pre>bison (GNU Bison) 2.5
Written by Robert Corbett and Richard Stallman.

Copyright (C) 2011 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</pre></td></tr>
      
        
        <tr>
          <td rowspan="3">ubuntu64bit</td>
          <td><b>gcc</b><br/><pre>gcc (Ubuntu/Linaro 4.6.3-1ubuntu5) 4.6.3
Copyright (C) 2011 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</pre></td>
        </tr>
        <tr><td><b>make</b><br/><pre>GNU Make 3.81
Copyright (C) 2006  Free Software Foundation, Inc.
This is free software; see the source for copying conditions.
There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE.

This program built for x86_64-pc-linux-gnu</pre></td></tr>
        <tr><td><b>bison</b><br/><pre>bison (GNU Bison) 2.5
Written by Robert Corbett and Richard Stallman.

Copyright (C) 2011 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</pre></td></tr>
      
    </table>

    <h2>Build Log</h2>
    
      
      <h3><a name="centos32bit">centos32bit</a> <span style="font-size:small;"><a href="#top">#top</a></span></h3>
      <table border='1' style="width:90%;">
        <tr>
          <th style="width:100px;">task</th>
          <th>stdout</th>
          <th>stderr</th>
        </tr>
        <tr>
          <th>make</th>
          <td><textarea>(in /home/mruby/mruby-test-tool/tmp/20130305000525-2208-build/mruby-mruby-a5bc5b2)
CC    tools/mruby/mruby.c -> build/host/tools/mruby/mruby.o
CC    src/etc.c -> build/host/src/etc.o
CC    src/crc.c -> build/host/src/crc.o
CC    src/numeric.c -> build/host/src/numeric.o
CC    src/class.c -> build/host/src/class.o
CC    src/range.c -> build/host/src/range.o
CC    src/codegen.c -> build/host/src/codegen.o
CC    src/compar.c -> build/host/src/compar.o
CC    src/variable.c -> build/host/src/variable.o
CC    src/state.c -> build/host/src/state.o
CC    src/proc.c -> build/host/src/proc.o
CC    src/load.c -> build/host/src/load.o
CC    src/gc.c -> build/host/src/gc.o
CC    src/symbol.c -> build/host/src/symbol.o
CC    src/error.c -> build/host/src/error.o
CC    src/hash.c -> build/host/src/hash.o
CC    src/enum.c -> build/host/src/enum.o
CC    src/kernel.c -> build/host/src/kernel.o
CC    src/string.c -> build/host/src/string.o
CC    src/pool.c -> build/host/src/pool.o
CC    src/dump.c -> build/host/src/dump.o
CC    src/print.c -> build/host/src/print.o
CC    src/vm.c -> build/host/src/vm.o
CC    src/array.c -> build/host/src/array.o
CC    src/init.c -> build/host/src/init.o
CC    src/object.c -> build/host/src/object.o
YACC  src/parse.y -> build/host/src/y.tab.c
CC    build/host/src/y.tab.c -> build/host/src/y.tab.o
CC    tools/mrbc/mrbc.c -> build/host/tools/mrbc/mrbc.o
AR    build/host/lib/libmruby_core.a 
LD    build/host/bin/mrbc 
rake aborted!
Command Failed: ["gcc"  -o "/home/mruby/mruby-test-tool/tmp/20130305000525-2208-build/mruby-mruby-a5bc5b2/build/host/bin/mrbc" "/home/mruby/mruby-test-tool/tmp/20130305000525-2208-build/mruby-mruby-a5bc5b2/build/host/tools/mrbc/mrbc.o" "/home/mruby/mruby-test-tool/tmp/20130305000525-2208-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a"  -lm ]</textarea></td>
          <td><textarea>ar: creating /home/mruby/mruby-test-tool/tmp/20130305000525-2208-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a
/home/mruby/mruby-test-tool/tmp/20130305000525-2208-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(kernel.o): In function `mrb_init_kernel':
/home/mruby/mruby-test-tool/tmp/20130305000525-2208-build/mruby-mruby-a5bc5b2/src/kernel.c:1112: undefined reference to `mrb_f_sprintf'
/home/mruby/mruby-test-tool/tmp/20130305000525-2208-build/mruby-mruby-a5bc5b2/src/kernel.c:1113: undefined reference to `mrb_f_sprintf'
collect2: ld returned 1 exit status</textarea></td>
        </tr>
        <tr>
          <th>make test</th>
          <td><textarea>(in /home/mruby/mruby-test-tool/tmp/20130305000525-2208-build/mruby-mruby-a5bc5b2)
CC    test/driver.c -> build/host/test/driver.o
LD    build/host/bin/mrbc 
rake aborted!
Command Failed: ["gcc"  -o "/home/mruby/mruby-test-tool/tmp/20130305000525-2208-build/mruby-mruby-a5bc5b2/build/host/bin/mrbc" "/home/mruby/mruby-test-tool/tmp/20130305000525-2208-build/mruby-mruby-a5bc5b2/build/host/tools/mrbc/mrbc.o" "/home/mruby/mruby-test-tool/tmp/20130305000525-2208-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a"  -lm ]</textarea></td>
          <td><textarea>/home/mruby/mruby-test-tool/tmp/20130305000525-2208-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(kernel.o): In function `mrb_init_kernel':
/home/mruby/mruby-test-tool/tmp/20130305000525-2208-build/mruby-mruby-a5bc5b2/src/kernel.c:1112: undefined reference to `mrb_f_sprintf'
/home/mruby/mruby-test-tool/tmp/20130305000525-2208-build/mruby-mruby-a5bc5b2/src/kernel.c:1113: undefined reference to `mrb_f_sprintf'
collect2: ld returned 1 exit status</textarea></td>
        </tr>
        
      </table>
    
      
      <h3><a name="centos64bit">centos64bit</a> <span style="font-size:small;"><a href="#top">#top</a></span></h3>
      <table border='1' style="width:90%;">
        <tr>
          <th style="width:100px;">task</th>
          <th>stdout</th>
          <th>stderr</th>
        </tr>
        <tr>
          <th>make</th>
          <td><textarea>(in /home/mruby/mruby-test-tool/tmp/20130305000525-2834-build/mruby-mruby-a5bc5b2)
CC    tools/mruby/mruby.c -> build/host/tools/mruby/mruby.o
CC    src/gc.c -> build/host/src/gc.o
CC    src/print.c -> build/host/src/print.o
CC    src/numeric.c -> build/host/src/numeric.o
CC    src/hash.c -> build/host/src/hash.o
CC    src/proc.c -> build/host/src/proc.o
CC    src/error.c -> build/host/src/error.o
CC    src/dump.c -> build/host/src/dump.o
CC    src/compar.c -> build/host/src/compar.o
CC    src/variable.c -> build/host/src/variable.o
CC    src/state.c -> build/host/src/state.o
CC    src/symbol.c -> build/host/src/symbol.o
CC    src/load.c -> build/host/src/load.o
CC    src/codegen.c -> build/host/src/codegen.o
CC    src/crc.c -> build/host/src/crc.o
CC    src/enum.c -> build/host/src/enum.o
CC    src/init.c -> build/host/src/init.o
CC    src/kernel.c -> build/host/src/kernel.o
CC    src/array.c -> build/host/src/array.o
CC    src/pool.c -> build/host/src/pool.o
CC    src/string.c -> build/host/src/string.o
CC    src/class.c -> build/host/src/class.o
CC    src/object.c -> build/host/src/object.o
CC    src/vm.c -> build/host/src/vm.o
CC    src/etc.c -> build/host/src/etc.o
CC    src/range.c -> build/host/src/range.o
YACC  src/parse.y -> build/host/src/y.tab.c
CC    build/host/src/y.tab.c -> build/host/src/y.tab.o
CC    tools/mrbc/mrbc.c -> build/host/tools/mrbc/mrbc.o
AR    build/host/lib/libmruby_core.a 
LD    build/host/bin/mrbc 
rake aborted!
Command Failed: ["gcc"  -o "/home/mruby/mruby-test-tool/tmp/20130305000525-2834-build/mruby-mruby-a5bc5b2/build/host/bin/mrbc" "/home/mruby/mruby-test-tool/tmp/20130305000525-2834-build/mruby-mruby-a5bc5b2/build/host/tools/mrbc/mrbc.o" "/home/mruby/mruby-test-tool/tmp/20130305000525-2834-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a"  -lm ]</textarea></td>
          <td><textarea>ar: creating /home/mruby/mruby-test-tool/tmp/20130305000525-2834-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a
/home/mruby/mruby-test-tool/tmp/20130305000525-2834-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(kernel.o): In function `mrb_init_kernel':
/home/mruby/mruby-test-tool/tmp/20130305000525-2834-build/mruby-mruby-a5bc5b2/src/kernel.c:1112: undefined reference to `mrb_f_sprintf'
/home/mruby/mruby-test-tool/tmp/20130305000525-2834-build/mruby-mruby-a5bc5b2/src/kernel.c:1113: undefined reference to `mrb_f_sprintf'
collect2: ld returned 1 exit status</textarea></td>
        </tr>
        <tr>
          <th>make test</th>
          <td><textarea>(in /home/mruby/mruby-test-tool/tmp/20130305000525-2834-build/mruby-mruby-a5bc5b2)
CC    test/driver.c -> build/host/test/driver.o
LD    build/host/bin/mrbc 
rake aborted!
Command Failed: ["gcc"  -o "/home/mruby/mruby-test-tool/tmp/20130305000525-2834-build/mruby-mruby-a5bc5b2/build/host/bin/mrbc" "/home/mruby/mruby-test-tool/tmp/20130305000525-2834-build/mruby-mruby-a5bc5b2/build/host/tools/mrbc/mrbc.o" "/home/mruby/mruby-test-tool/tmp/20130305000525-2834-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a"  -lm ]</textarea></td>
          <td><textarea>/home/mruby/mruby-test-tool/tmp/20130305000525-2834-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(kernel.o): In function `mrb_init_kernel':
/home/mruby/mruby-test-tool/tmp/20130305000525-2834-build/mruby-mruby-a5bc5b2/src/kernel.c:1112: undefined reference to `mrb_f_sprintf'
/home/mruby/mruby-test-tool/tmp/20130305000525-2834-build/mruby-mruby-a5bc5b2/src/kernel.c:1113: undefined reference to `mrb_f_sprintf'
collect2: ld returned 1 exit status</textarea></td>
        </tr>
        
      </table>
    
      
      <h3><a name="freebsd32bit">freebsd32bit</a> <span style="font-size:small;"><a href="#top">#top</a></span></h3>
      <table border='1' style="width:90%;">
        <tr>
          <th style="width:100px;">task</th>
          <th>stdout</th>
          <th>stderr</th>
        </tr>
        <tr>
          <th>make</th>
          <td><textarea>(in /usr/home/mruby/mruby-test-tool/tmp/20130304230047-79930-build/mruby-mruby-a5bc5b2)
CC    tools/mruby/mruby.c -> build/host/tools/mruby/mruby.o
CC    src/array.c -> build/host/src/array.o
CC    src/class.c -> build/host/src/class.o
CC    src/codegen.c -> build/host/src/codegen.o
CC    src/compar.c -> build/host/src/compar.o
CC    src/crc.c -> build/host/src/crc.o
CC    src/dump.c -> build/host/src/dump.o
CC    src/enum.c -> build/host/src/enum.o
CC    src/error.c -> build/host/src/error.o
CC    src/etc.c -> build/host/src/etc.o
CC    src/gc.c -> build/host/src/gc.o
CC    src/hash.c -> build/host/src/hash.o
CC    src/init.c -> build/host/src/init.o
CC    src/kernel.c -> build/host/src/kernel.o
CC    src/load.c -> build/host/src/load.o
CC    src/numeric.c -> build/host/src/numeric.o
CC    src/object.c -> build/host/src/object.o
CC    src/pool.c -> build/host/src/pool.o
CC    src/print.c -> build/host/src/print.o
CC    src/proc.c -> build/host/src/proc.o
CC    src/range.c -> build/host/src/range.o
CC    src/state.c -> build/host/src/state.o
CC    src/string.c -> build/host/src/string.o
CC    src/symbol.c -> build/host/src/symbol.o
CC    src/variable.c -> build/host/src/variable.o
CC    src/vm.c -> build/host/src/vm.o
YACC  src/parse.y -> build/host/src/y.tab.c
CC    build/host/src/y.tab.c -> build/host/src/y.tab.o
CC    tools/mrbc/mrbc.c -> build/host/tools/mrbc/mrbc.o
AR    build/host/lib/libmruby_core.a 
LD    build/host/bin/mrbc 
rake aborted!
Command Failed: ["gcc"  -o "/usr/home/mruby/mruby-test-tool/tmp/20130304230047-79930-build/mruby-mruby-a5bc5b2/build/host/bin/mrbc" "/usr/home/mruby/mruby-test-tool/tmp/20130304230047-79930-build/mruby-mruby-a5bc5b2/build/host/tools/mrbc/mrbc.o" "/usr/home/mruby/mruby-test-tool/tmp/20130304230047-79930-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a"  -lm ]</textarea></td>
          <td><textarea>/usr/home/mruby/mruby-test-tool/tmp/20130304230047-79930-build/mruby-mruby-a5bc5b2/src/dump.c: In function 'get_syms_block_size':
/usr/home/mruby/mruby-test-tool/tmp/20130304230047-79930-build/mruby-mruby-a5bc5b2/src/dump.c:285: warning: passing argument 1 of 'str_dump_len' discards qualifiers from pointer target type
/usr/home/mruby/mruby-test-tool/tmp/20130304230047-79930-build/mruby-mruby-a5bc5b2/src/dump.c: In function 'write_syms_block':
/usr/home/mruby/mruby-test-tool/tmp/20130304230047-79930-build/mruby-mruby-a5bc5b2/src/dump.c:427: warning: passing argument 1 of 'str_dump_len' discards qualifiers from pointer target type
/usr/home/mruby/mruby-test-tool/tmp/20130304230047-79930-build/mruby-mruby-a5bc5b2/src/dump.c:435: warning: passing argument 1 of 'str_dump' discards qualifiers from pointer target type
/usr/home/mruby/mruby-test-tool/tmp/20130304230047-79930-build/mruby-mruby-a5bc5b2/src/dump.c: In function 'write_irep_record':
/usr/home/mruby/mruby-test-tool/tmp/20130304230047-79930-build/mruby-mruby-a5bc5b2/src/dump.c:598: warning: 'crc' may be used uninitialized in this function
ar: warning: creating /usr/home/mruby/mruby-test-tool/tmp/20130304230047-79930-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a
/usr/home/mruby/mruby-test-tool/tmp/20130304230047-79930-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(kernel.o): In function `mrb_init_kernel':
/usr/home/mruby/mruby-test-tool/tmp/20130304230047-79930-build/mruby-mruby-a5bc5b2/src/kernel.c:1112: undefined reference to `mrb_f_sprintf'
/usr/home/mruby/mruby-test-tool/tmp/20130304230047-79930-build/mruby-mruby-a5bc5b2/src/kernel.c:1113: undefined reference to `mrb_f_sprintf'</textarea></td>
        </tr>
        <tr>
          <th>make test</th>
          <td><textarea>(in /usr/home/mruby/mruby-test-tool/tmp/20130304230047-79930-build/mruby-mruby-a5bc5b2)
CC    test/driver.c -> build/host/test/driver.o
LD    build/host/bin/mrbc 
rake aborted!
Command Failed: ["gcc"  -o "/usr/home/mruby/mruby-test-tool/tmp/20130304230047-79930-build/mruby-mruby-a5bc5b2/build/host/bin/mrbc" "/usr/home/mruby/mruby-test-tool/tmp/20130304230047-79930-build/mruby-mruby-a5bc5b2/build/host/tools/mrbc/mrbc.o" "/usr/home/mruby/mruby-test-tool/tmp/20130304230047-79930-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a"  -lm ]</textarea></td>
          <td><textarea>/usr/home/mruby/mruby-test-tool/tmp/20130304230047-79930-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(kernel.o): In function `mrb_init_kernel':
/usr/home/mruby/mruby-test-tool/tmp/20130304230047-79930-build/mruby-mruby-a5bc5b2/src/kernel.c:1112: undefined reference to `mrb_f_sprintf'
/usr/home/mruby/mruby-test-tool/tmp/20130304230047-79930-build/mruby-mruby-a5bc5b2/src/kernel.c:1113: undefined reference to `mrb_f_sprintf'</textarea></td>
        </tr>
        
      </table>
    
      
      <h3><a name="freebsd64bit">freebsd64bit</a> <span style="font-size:small;"><a href="#top">#top</a></span></h3>
      <table border='1' style="width:90%;">
        <tr>
          <th style="width:100px;">task</th>
          <th>stdout</th>
          <th>stderr</th>
        </tr>
        <tr>
          <th>make</th>
          <td><textarea>(in /usr/home/mruby/mruby-test-tool/tmp/20130304230056-79195-build/mruby-mruby-a5bc5b2)
CC    tools/mruby/mruby.c -> build/host/tools/mruby/mruby.o
CC    src/array.c -> build/host/src/array.o
CC    src/class.c -> build/host/src/class.o
CC    src/codegen.c -> build/host/src/codegen.o
CC    src/compar.c -> build/host/src/compar.o
CC    src/crc.c -> build/host/src/crc.o
CC    src/dump.c -> build/host/src/dump.o
CC    src/enum.c -> build/host/src/enum.o
CC    src/error.c -> build/host/src/error.o
CC    src/etc.c -> build/host/src/etc.o
CC    src/gc.c -> build/host/src/gc.o
CC    src/hash.c -> build/host/src/hash.o
CC    src/init.c -> build/host/src/init.o
CC    src/kernel.c -> build/host/src/kernel.o
CC    src/load.c -> build/host/src/load.o
CC    src/numeric.c -> build/host/src/numeric.o
CC    src/object.c -> build/host/src/object.o
CC    src/pool.c -> build/host/src/pool.o
CC    src/print.c -> build/host/src/print.o
CC    src/proc.c -> build/host/src/proc.o
CC    src/range.c -> build/host/src/range.o
CC    src/state.c -> build/host/src/state.o
CC    src/string.c -> build/host/src/string.o
CC    src/symbol.c -> build/host/src/symbol.o
CC    src/variable.c -> build/host/src/variable.o
CC    src/vm.c -> build/host/src/vm.o
YACC  src/parse.y -> build/host/src/y.tab.c
CC    build/host/src/y.tab.c -> build/host/src/y.tab.o
CC    tools/mrbc/mrbc.c -> build/host/tools/mrbc/mrbc.o
AR    build/host/lib/libmruby_core.a 
LD    build/host/bin/mrbc 
rake aborted!
Command Failed: ["gcc"  -o "/usr/home/mruby/mruby-test-tool/tmp/20130304230056-79195-build/mruby-mruby-a5bc5b2/build/host/bin/mrbc" "/usr/home/mruby/mruby-test-tool/tmp/20130304230056-79195-build/mruby-mruby-a5bc5b2/build/host/tools/mrbc/mrbc.o" "/usr/home/mruby/mruby-test-tool/tmp/20130304230056-79195-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a"  -lm ]</textarea></td>
          <td><textarea>/usr/home/mruby/mruby-test-tool/tmp/20130304230056-79195-build/mruby-mruby-a5bc5b2/src/dump.c: In function 'get_syms_block_size':
/usr/home/mruby/mruby-test-tool/tmp/20130304230056-79195-build/mruby-mruby-a5bc5b2/src/dump.c:285: warning: passing argument 1 of 'str_dump_len' discards qualifiers from pointer target type
/usr/home/mruby/mruby-test-tool/tmp/20130304230056-79195-build/mruby-mruby-a5bc5b2/src/dump.c: In function 'write_syms_block':
/usr/home/mruby/mruby-test-tool/tmp/20130304230056-79195-build/mruby-mruby-a5bc5b2/src/dump.c:427: warning: passing argument 1 of 'str_dump_len' discards qualifiers from pointer target type
/usr/home/mruby/mruby-test-tool/tmp/20130304230056-79195-build/mruby-mruby-a5bc5b2/src/dump.c:435: warning: passing argument 1 of 'str_dump' discards qualifiers from pointer target type
/usr/home/mruby/mruby-test-tool/tmp/20130304230056-79195-build/mruby-mruby-a5bc5b2/src/dump.c: In function 'write_irep_record':
/usr/home/mruby/mruby-test-tool/tmp/20130304230056-79195-build/mruby-mruby-a5bc5b2/src/dump.c:598: warning: 'crc' may be used uninitialized in this function
ar: warning: creating /usr/home/mruby/mruby-test-tool/tmp/20130304230056-79195-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a
/usr/home/mruby/mruby-test-tool/tmp/20130304230056-79195-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(kernel.o): In function `mrb_init_kernel':
/usr/home/mruby/mruby-test-tool/tmp/20130304230056-79195-build/mruby-mruby-a5bc5b2/src/kernel.c:1112: undefined reference to `mrb_f_sprintf'
/usr/home/mruby/mruby-test-tool/tmp/20130304230056-79195-build/mruby-mruby-a5bc5b2/src/kernel.c:1113: undefined reference to `mrb_f_sprintf'</textarea></td>
        </tr>
        <tr>
          <th>make test</th>
          <td><textarea>(in /usr/home/mruby/mruby-test-tool/tmp/20130304230056-79195-build/mruby-mruby-a5bc5b2)
CC    test/driver.c -> build/host/test/driver.o
LD    build/host/bin/mrbc 
rake aborted!
Command Failed: ["gcc"  -o "/usr/home/mruby/mruby-test-tool/tmp/20130304230056-79195-build/mruby-mruby-a5bc5b2/build/host/bin/mrbc" "/usr/home/mruby/mruby-test-tool/tmp/20130304230056-79195-build/mruby-mruby-a5bc5b2/build/host/tools/mrbc/mrbc.o" "/usr/home/mruby/mruby-test-tool/tmp/20130304230056-79195-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a"  -lm ]</textarea></td>
          <td><textarea>/usr/home/mruby/mruby-test-tool/tmp/20130304230056-79195-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(kernel.o): In function `mrb_init_kernel':
/usr/home/mruby/mruby-test-tool/tmp/20130304230056-79195-build/mruby-mruby-a5bc5b2/src/kernel.c:1112: undefined reference to `mrb_f_sprintf'
/usr/home/mruby/mruby-test-tool/tmp/20130304230056-79195-build/mruby-mruby-a5bc5b2/src/kernel.c:1113: undefined reference to `mrb_f_sprintf'</textarea></td>
        </tr>
        
      </table>
    
      
      <h3><a name="mac-lion">mac-lion</a> <span style="font-size:small;"><a href="#top">#top</a></span></h3>
      <table border='1' style="width:90%;">
        <tr>
          <th style="width:100px;">task</th>
          <th>stdout</th>
          <th>stderr</th>
        </tr>
        <tr>
          <th>make</th>
          <td><textarea>(in /Users/mruby/mruby-test-tool/tmp/20130305000632-39471-build/mruby-mruby-a5bc5b2)
CC    tools/mruby/mruby.c -> build/host/tools/mruby/mruby.o
CC    src/array.c -> build/host/src/array.o
CC    src/class.c -> build/host/src/class.o
CC    src/codegen.c -> build/host/src/codegen.o
CC    src/compar.c -> build/host/src/compar.o
CC    src/crc.c -> build/host/src/crc.o
CC    src/dump.c -> build/host/src/dump.o
CC    src/enum.c -> build/host/src/enum.o
CC    src/error.c -> build/host/src/error.o
CC    src/etc.c -> build/host/src/etc.o
CC    src/gc.c -> build/host/src/gc.o
CC    src/hash.c -> build/host/src/hash.o
CC    src/init.c -> build/host/src/init.o
CC    src/kernel.c -> build/host/src/kernel.o
CC    src/load.c -> build/host/src/load.o
CC    src/numeric.c -> build/host/src/numeric.o
CC    src/object.c -> build/host/src/object.o
CC    src/pool.c -> build/host/src/pool.o
CC    src/print.c -> build/host/src/print.o
CC    src/proc.c -> build/host/src/proc.o
CC    src/range.c -> build/host/src/range.o
CC    src/state.c -> build/host/src/state.o
CC    src/string.c -> build/host/src/string.o
CC    src/symbol.c -> build/host/src/symbol.o
CC    src/variable.c -> build/host/src/variable.o
CC    src/vm.c -> build/host/src/vm.o
YACC  src/parse.y -> build/host/src/y.tab.c
CC    build/host/src/y.tab.c -> build/host/src/y.tab.o
CC    tools/mrbc/mrbc.c -> build/host/tools/mrbc/mrbc.o
AR    build/host/lib/libmruby_core.a 
LD    build/host/bin/mrbc 
rake aborted!
Command Failed: ["gcc"  -o "/Users/mruby/mruby-test-tool/tmp/20130305000632-39471-build/mruby-mruby-a5bc5b2/build/host/bin/mrbc" "/Users/mruby/mruby-test-tool/tmp/20130305000632-39471-build/mruby-mruby-a5bc5b2/build/host/tools/mrbc/mrbc.o" "/Users/mruby/mruby-test-tool/tmp/20130305000632-39471-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a"  -lm ]</textarea></td>
          <td><textarea>ar: creating archive /Users/mruby/mruby-test-tool/tmp/20130305000632-39471-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a
Undefined symbols for architecture x86_64:
  "_mrb_f_sprintf", referenced from:
      _mrb_init_kernel in libmruby_core.a(kernel.o)
ld: symbol(s) not found for architecture x86_64
collect2: ld returned 1 exit status</textarea></td>
        </tr>
        <tr>
          <th>make test</th>
          <td><textarea>(in /Users/mruby/mruby-test-tool/tmp/20130305000632-39471-build/mruby-mruby-a5bc5b2)
CC    test/driver.c -> build/host/test/driver.o
LD    build/host/bin/mrbc 
rake aborted!
Command Failed: ["gcc"  -o "/Users/mruby/mruby-test-tool/tmp/20130305000632-39471-build/mruby-mruby-a5bc5b2/build/host/bin/mrbc" "/Users/mruby/mruby-test-tool/tmp/20130305000632-39471-build/mruby-mruby-a5bc5b2/build/host/tools/mrbc/mrbc.o" "/Users/mruby/mruby-test-tool/tmp/20130305000632-39471-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a"  -lm ]</textarea></td>
          <td><textarea>Undefined symbols for architecture x86_64:
  "_mrb_f_sprintf", referenced from:
      _mrb_init_kernel in libmruby_core.a(kernel.o)
ld: symbol(s) not found for architecture x86_64
collect2: ld returned 1 exit status</textarea></td>
        </tr>
        
      </table>
    
      
      <h3><a name="mac-ppc">mac-ppc</a> <span style="font-size:small;"><a href="#top">#top</a></span></h3>
      <table border='1' style="width:90%;">
        <tr>
          <th style="width:100px;">task</th>
          <th>stdout</th>
          <th>stderr</th>
        </tr>
        <tr>
          <th>make</th>
          <td><textarea>(in /Users/mruby/mruby-test-tool/tmp/20130305000651-71213-build/mruby-mruby-a5bc5b2)
CC    tools/mruby/mruby.c -> build/host/tools/mruby/mruby.o
CC    src/array.c -> build/host/src/array.o
CC    src/class.c -> build/host/src/class.o
CC    src/codegen.c -> build/host/src/codegen.o
CC    src/compar.c -> build/host/src/compar.o
CC    src/crc.c -> build/host/src/crc.o
CC    src/dump.c -> build/host/src/dump.o
CC    src/enum.c -> build/host/src/enum.o
CC    src/error.c -> build/host/src/error.o
CC    src/etc.c -> build/host/src/etc.o
CC    src/gc.c -> build/host/src/gc.o
CC    src/hash.c -> build/host/src/hash.o
CC    src/init.c -> build/host/src/init.o
CC    src/kernel.c -> build/host/src/kernel.o
CC    src/load.c -> build/host/src/load.o
CC    src/numeric.c -> build/host/src/numeric.o
CC    src/object.c -> build/host/src/object.o
CC    src/pool.c -> build/host/src/pool.o
CC    src/print.c -> build/host/src/print.o
CC    src/proc.c -> build/host/src/proc.o
CC    src/range.c -> build/host/src/range.o
CC    src/state.c -> build/host/src/state.o
CC    src/string.c -> build/host/src/string.o
CC    src/symbol.c -> build/host/src/symbol.o
CC    src/variable.c -> build/host/src/variable.o
CC    src/vm.c -> build/host/src/vm.o
YACC  src/parse.y -> build/host/src/y.tab.c
CC    build/host/src/y.tab.c -> build/host/src/y.tab.o
CC    tools/mrbc/mrbc.c -> build/host/tools/mrbc/mrbc.o
AR    build/host/lib/libmruby_core.a 
LD    build/host/bin/mrbc 
rake aborted!
Command Failed: ["gcc"  -o "/Users/mruby/mruby-test-tool/tmp/20130305000651-71213-build/mruby-mruby-a5bc5b2/build/host/bin/mrbc" "/Users/mruby/mruby-test-tool/tmp/20130305000651-71213-build/mruby-mruby-a5bc5b2/build/host/tools/mrbc/mrbc.o" "/Users/mruby/mruby-test-tool/tmp/20130305000651-71213-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a"  -lm ]</textarea></td>
          <td><textarea>In file included from src/parse.y:3763:
src/keywords:77: warning: '__gnu_inline__' attribute directive ignored
/Users/mruby/mruby-test-tool/tmp/20130305000651-71213-build/mruby-mruby-a5bc5b2/build/host/src/y.tab.c: In function 'yyparse':
src/parse.y:4609: warning: 'beg' may be used uninitialized in this function
ar: creating archive /Users/mruby/mruby-test-tool/tmp/20130305000651-71213-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a
Undefined symbols:
  "_mrb_f_sprintf", referenced from:
      _mrb_f_sprintf$non_lazy_ptr in libmruby_core.a(kernel.o)
ld: symbol(s) not found
collect2: ld returned 1 exit status</textarea></td>
        </tr>
        <tr>
          <th>make test</th>
          <td><textarea>(in /Users/mruby/mruby-test-tool/tmp/20130305000651-71213-build/mruby-mruby-a5bc5b2)
CC    test/driver.c -> build/host/test/driver.o
LD    build/host/bin/mrbc 
rake aborted!
Command Failed: ["gcc"  -o "/Users/mruby/mruby-test-tool/tmp/20130305000651-71213-build/mruby-mruby-a5bc5b2/build/host/bin/mrbc" "/Users/mruby/mruby-test-tool/tmp/20130305000651-71213-build/mruby-mruby-a5bc5b2/build/host/tools/mrbc/mrbc.o" "/Users/mruby/mruby-test-tool/tmp/20130305000651-71213-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a"  -lm ]</textarea></td>
          <td><textarea>Undefined symbols:
  "_mrb_f_sprintf", referenced from:
      _mrb_f_sprintf$non_lazy_ptr in libmruby_core.a(kernel.o)
ld: symbol(s) not found
collect2: ld returned 1 exit status</textarea></td>
        </tr>
        
      </table>
    
      
      <h3><a name="netbsd32bit">netbsd32bit</a> <span style="font-size:small;"><a href="#top">#top</a></span></h3>
      <table border='1' style="width:90%;">
        <tr>
          <th style="width:100px;">task</th>
          <th>stdout</th>
          <th>stderr</th>
        </tr>
        <tr>
          <th>make</th>
          <td><textarea>(in /home/mruby/mruby-test-tool/tmp/20130305000550-6798-build/mruby-mruby-a5bc5b2)
CC    tools/mruby/mruby.c -> build/host/tools/mruby/mruby.o
CC    src/array.c -> build/host/src/array.o
CC    src/class.c -> build/host/src/class.o
CC    src/codegen.c -> build/host/src/codegen.o
CC    src/compar.c -> build/host/src/compar.o
CC    src/crc.c -> build/host/src/crc.o
CC    src/dump.c -> build/host/src/dump.o
CC    src/enum.c -> build/host/src/enum.o
CC    src/error.c -> build/host/src/error.o
CC    src/etc.c -> build/host/src/etc.o
CC    src/gc.c -> build/host/src/gc.o
CC    src/hash.c -> build/host/src/hash.o
CC    src/init.c -> build/host/src/init.o
CC    src/kernel.c -> build/host/src/kernel.o
CC    src/load.c -> build/host/src/load.o
CC    src/numeric.c -> build/host/src/numeric.o
CC    src/object.c -> build/host/src/object.o
CC    src/pool.c -> build/host/src/pool.o
CC    src/print.c -> build/host/src/print.o
CC    src/proc.c -> build/host/src/proc.o
CC    src/range.c -> build/host/src/range.o
CC    src/state.c -> build/host/src/state.o
CC    src/string.c -> build/host/src/string.o
CC    src/symbol.c -> build/host/src/symbol.o
CC    src/variable.c -> build/host/src/variable.o
CC    src/vm.c -> build/host/src/vm.o
YACC  src/parse.y -> build/host/src/y.tab.c
CC    build/host/src/y.tab.c -> build/host/src/y.tab.o
CC    tools/mrbc/mrbc.c -> build/host/tools/mrbc/mrbc.o
AR    build/host/lib/libmruby_core.a 
LD    build/host/bin/mrbc 
rake aborted!
Command Failed: ["gcc"  -o "/home/mruby/mruby-test-tool/tmp/20130305000550-6798-build/mruby-mruby-a5bc5b2/build/host/bin/mrbc" "/home/mruby/mruby-test-tool/tmp/20130305000550-6798-build/mruby-mruby-a5bc5b2/build/host/tools/mrbc/mrbc.o" "/home/mruby/mruby-test-tool/tmp/20130305000550-6798-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a"  -lm ]</textarea></td>
          <td><textarea>ar: creating /home/mruby/mruby-test-tool/tmp/20130305000550-6798-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a
/home/mruby/mruby-test-tool/tmp/20130305000550-6798-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(kernel.o): In function `mrb_init_kernel':
/home/mruby/mruby-test-tool/tmp/20130305000550-6798-build/mruby-mruby-a5bc5b2/src/kernel.c:1112: undefined reference to `mrb_f_sprintf'
/home/mruby/mruby-test-tool/tmp/20130305000550-6798-build/mruby-mruby-a5bc5b2/src/kernel.c:1113: undefined reference to `mrb_f_sprintf'</textarea></td>
        </tr>
        <tr>
          <th>make test</th>
          <td><textarea>(in /home/mruby/mruby-test-tool/tmp/20130305000550-6798-build/mruby-mruby-a5bc5b2)
CC    test/driver.c -> build/host/test/driver.o
LD    build/host/bin/mrbc 
rake aborted!
Command Failed: ["gcc"  -o "/home/mruby/mruby-test-tool/tmp/20130305000550-6798-build/mruby-mruby-a5bc5b2/build/host/bin/mrbc" "/home/mruby/mruby-test-tool/tmp/20130305000550-6798-build/mruby-mruby-a5bc5b2/build/host/tools/mrbc/mrbc.o" "/home/mruby/mruby-test-tool/tmp/20130305000550-6798-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a"  -lm ]</textarea></td>
          <td><textarea>/home/mruby/mruby-test-tool/tmp/20130305000550-6798-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(kernel.o): In function `mrb_init_kernel':
/home/mruby/mruby-test-tool/tmp/20130305000550-6798-build/mruby-mruby-a5bc5b2/src/kernel.c:1112: undefined reference to `mrb_f_sprintf'
/home/mruby/mruby-test-tool/tmp/20130305000550-6798-build/mruby-mruby-a5bc5b2/src/kernel.c:1113: undefined reference to `mrb_f_sprintf'</textarea></td>
        </tr>
        
      </table>
    
      
      <h3><a name="netbsd64bit">netbsd64bit</a> <span style="font-size:small;"><a href="#top">#top</a></span></h3>
      <table border='1' style="width:90%;">
        <tr>
          <th style="width:100px;">task</th>
          <th>stdout</th>
          <th>stderr</th>
        </tr>
        <tr>
          <th>make</th>
          <td><textarea>(in /home/mruby/mruby-test-tool/tmp/20130305000550-3961-build/mruby-mruby-a5bc5b2)
CC    tools/mruby/mruby.c -> build/host/tools/mruby/mruby.o
CC    src/array.c -> build/host/src/array.o
CC    src/class.c -> build/host/src/class.o
CC    src/codegen.c -> build/host/src/codegen.o
CC    src/compar.c -> build/host/src/compar.o
CC    src/crc.c -> build/host/src/crc.o
CC    src/dump.c -> build/host/src/dump.o
CC    src/enum.c -> build/host/src/enum.o
CC    src/error.c -> build/host/src/error.o
CC    src/etc.c -> build/host/src/etc.o
CC    src/gc.c -> build/host/src/gc.o
CC    src/hash.c -> build/host/src/hash.o
CC    src/init.c -> build/host/src/init.o
CC    src/kernel.c -> build/host/src/kernel.o
CC    src/load.c -> build/host/src/load.o
CC    src/numeric.c -> build/host/src/numeric.o
CC    src/object.c -> build/host/src/object.o
CC    src/pool.c -> build/host/src/pool.o
CC    src/print.c -> build/host/src/print.o
CC    src/proc.c -> build/host/src/proc.o
CC    src/range.c -> build/host/src/range.o
CC    src/state.c -> build/host/src/state.o
CC    src/string.c -> build/host/src/string.o
CC    src/symbol.c -> build/host/src/symbol.o
CC    src/variable.c -> build/host/src/variable.o
CC    src/vm.c -> build/host/src/vm.o
YACC  src/parse.y -> build/host/src/y.tab.c
CC    build/host/src/y.tab.c -> build/host/src/y.tab.o
CC    tools/mrbc/mrbc.c -> build/host/tools/mrbc/mrbc.o
AR    build/host/lib/libmruby_core.a 
LD    build/host/bin/mrbc 
rake aborted!
Command Failed: ["gcc"  -o "/home/mruby/mruby-test-tool/tmp/20130305000550-3961-build/mruby-mruby-a5bc5b2/build/host/bin/mrbc" "/home/mruby/mruby-test-tool/tmp/20130305000550-3961-build/mruby-mruby-a5bc5b2/build/host/tools/mrbc/mrbc.o" "/home/mruby/mruby-test-tool/tmp/20130305000550-3961-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a"  -lm ]</textarea></td>
          <td><textarea>ar: creating /home/mruby/mruby-test-tool/tmp/20130305000550-3961-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a
/home/mruby/mruby-test-tool/tmp/20130305000550-3961-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(kernel.o): In function `mrb_init_kernel':
/home/mruby/mruby-test-tool/tmp/20130305000550-3961-build/mruby-mruby-a5bc5b2/src/kernel.c:1112: undefined reference to `mrb_f_sprintf'
/home/mruby/mruby-test-tool/tmp/20130305000550-3961-build/mruby-mruby-a5bc5b2/src/kernel.c:1113: undefined reference to `mrb_f_sprintf'</textarea></td>
        </tr>
        <tr>
          <th>make test</th>
          <td><textarea>(in /home/mruby/mruby-test-tool/tmp/20130305000550-3961-build/mruby-mruby-a5bc5b2)
CC    test/driver.c -> build/host/test/driver.o
LD    build/host/bin/mrbc 
rake aborted!
Command Failed: ["gcc"  -o "/home/mruby/mruby-test-tool/tmp/20130305000550-3961-build/mruby-mruby-a5bc5b2/build/host/bin/mrbc" "/home/mruby/mruby-test-tool/tmp/20130305000550-3961-build/mruby-mruby-a5bc5b2/build/host/tools/mrbc/mrbc.o" "/home/mruby/mruby-test-tool/tmp/20130305000550-3961-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a"  -lm ]</textarea></td>
          <td><textarea>/home/mruby/mruby-test-tool/tmp/20130305000550-3961-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(kernel.o): In function `mrb_init_kernel':
/home/mruby/mruby-test-tool/tmp/20130305000550-3961-build/mruby-mruby-a5bc5b2/src/kernel.c:1112: undefined reference to `mrb_f_sprintf'
/home/mruby/mruby-test-tool/tmp/20130305000550-3961-build/mruby-mruby-a5bc5b2/src/kernel.c:1113: undefined reference to `mrb_f_sprintf'</textarea></td>
        </tr>
        
      </table>
    
      
      <h3><a name="netbsd_arm_nb6">netbsd_arm_nb6</a> <span style="font-size:small;"><a href="#top">#top</a></span></h3>
      <table border='1' style="width:90%;">
        <tr>
          <th style="width:100px;">task</th>
          <th>stdout</th>
          <th>stderr</th>
        </tr>
        <tr>
          <th>make</th>
          <td><textarea>(in /home/mruby/arm-nb6/mruby-mruby-a5bc5b2)
CC    tools/mruby/mruby.c -> build/host/tools/mruby/mruby.o
CC    src/range.c -> build/host/src/range.o
CC    src/array.c -> build/host/src/array.o
CC    src/numeric.c -> build/host/src/numeric.o
CC    src/pool.c -> build/host/src/pool.o
CC    src/compar.c -> build/host/src/compar.o
CC    src/crc.c -> build/host/src/crc.o
CC    src/proc.c -> build/host/src/proc.o
CC    src/state.c -> build/host/src/state.o
CC    src/print.c -> build/host/src/print.o
CC    src/vm.c -> build/host/src/vm.o
CC    src/class.c -> build/host/src/class.o
CC    src/load.c -> build/host/src/load.o
CC    src/codegen.c -> build/host/src/codegen.o
CC    src/symbol.c -> build/host/src/symbol.o
CC    src/etc.c -> build/host/src/etc.o
CC    src/gc.c -> build/host/src/gc.o
CC    src/init.c -> build/host/src/init.o
CC    src/dump.c -> build/host/src/dump.o
CC    src/kernel.c -> build/host/src/kernel.o
CC    src/hash.c -> build/host/src/hash.o
CC    src/string.c -> build/host/src/string.o
CC    src/variable.c -> build/host/src/variable.o
CC    src/object.c -> build/host/src/object.o
CC    src/enum.c -> build/host/src/enum.o
CC    src/error.c -> build/host/src/error.o
YACC  src/parse.y -> build/host/src/y.tab.c
CC    build/host/src/y.tab.c -> build/host/src/y.tab.o
CC    tools/mrbc/mrbc.c -> build/host/tools/mrbc/mrbc.o
AR    build/host/lib/libmruby_core.a 
LD    build/host/bin/mrbc 
rake aborted!
Command Failed: ["gcc"  -o "/home/mruby/arm-nb6/mruby-mruby-a5bc5b2/build/host/bin/mrbc" "/home/mruby/arm-nb6/mruby-mruby-a5bc5b2/build/host/tools/mrbc/mrbc.o" "/home/mruby/arm-nb6/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a"  -lm ]

</textarea></td>
          <td><textarea>ar: creating /home/mruby/arm-nb6/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a
/home/mruby/arm-nb6/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(kernel.o): In function `mrb_init_kernel':
/home/mruby/arm-nb6/mruby-mruby-a5bc5b2/src/kernel.c:1117: undefined reference to `mrb_f_sprintf'
</textarea></td>
        </tr>
        <tr>
          <th>make test</th>
          <td><textarea>(in /home/mruby/arm-nb6/mruby-mruby-a5bc5b2)
CC    test/driver.c -> build/host/test/driver.o
LD    build/host/bin/mrbc 
rake aborted!
Command Failed: ["gcc"  -o "/home/mruby/arm-nb6/mruby-mruby-a5bc5b2/build/host/bin/mrbc" "/home/mruby/arm-nb6/mruby-mruby-a5bc5b2/build/host/tools/mrbc/mrbc.o" "/home/mruby/arm-nb6/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a"  -lm ]

</textarea></td>
          <td><textarea>/home/mruby/arm-nb6/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(kernel.o): In function `mrb_init_kernel':
/home/mruby/arm-nb6/mruby-mruby-a5bc5b2/src/kernel.c:1117: undefined reference to `mrb_f_sprintf'
</textarea></td>
        </tr>
        
      </table>
    
      
      <h3><a name="netbsd_mips">netbsd_mips</a> <span style="font-size:small;"><a href="#top">#top</a></span></h3>
      <table border='1' style="width:90%;">
        <tr>
          <th style="width:100px;">task</th>
          <th>stdout</th>
          <th>stderr</th>
        </tr>
        <tr>
          <th>make</th>
          <td><textarea>(in /home/mruby/mips/mruby-mruby-a5bc5b2)
CC    tools/mruby/mruby.c -> build/host/tools/mruby/mruby.o
CC    src/range.c -> build/host/src/range.o
CC    src/array.c -> build/host/src/array.o
CC    src/numeric.c -> build/host/src/numeric.o
CC    src/pool.c -> build/host/src/pool.o
CC    src/compar.c -> build/host/src/compar.o
CC    src/crc.c -> build/host/src/crc.o
CC    src/proc.c -> build/host/src/proc.o
CC    src/state.c -> build/host/src/state.o
CC    src/print.c -> build/host/src/print.o
CC    src/vm.c -> build/host/src/vm.o
CC    src/class.c -> build/host/src/class.o
CC    src/load.c -> build/host/src/load.o
CC    src/codegen.c -> build/host/src/codegen.o
CC    src/symbol.c -> build/host/src/symbol.o
CC    src/etc.c -> build/host/src/etc.o
CC    src/gc.c -> build/host/src/gc.o
CC    src/init.c -> build/host/src/init.o
CC    src/dump.c -> build/host/src/dump.o
CC    src/kernel.c -> build/host/src/kernel.o
CC    src/hash.c -> build/host/src/hash.o
CC    src/string.c -> build/host/src/string.o
CC    src/variable.c -> build/host/src/variable.o
CC    src/object.c -> build/host/src/object.o
CC    src/enum.c -> build/host/src/enum.o
CC    src/error.c -> build/host/src/error.o
YACC  src/parse.y -> build/host/src/y.tab.c
CC    build/host/src/y.tab.c -> build/host/src/y.tab.o
CC    tools/mrbc/mrbc.c -> build/host/tools/mrbc/mrbc.o
AR    build/host/lib/libmruby_core.a 
LD    build/host/bin/mrbc 
rake aborted!
Command Failed: ["gcc"  -o "/home/mruby/mips/mruby-mruby-a5bc5b2/build/host/bin/mrbc" "/home/mruby/mips/mruby-mruby-a5bc5b2/build/host/tools/mrbc/mrbc.o" "/home/mruby/mips/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a"  -lm ]

</textarea></td>
          <td><textarea>ar: creating /home/mruby/mips/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a
/home/mruby/mips/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(kernel.o)(.text+0x2a74):/home/mruby/mips/mruby-mruby-a5bc5b2/src/kernel.c:1112: undefined reference to `mrb_f_sprintf'
/home/mruby/mips/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(kernel.o)(.text+0x2a7c):/home/mruby/mips/mruby-mruby-a5bc5b2/src/kernel.c:1112: undefined reference to `mrb_f_sprintf'
</textarea></td>
        </tr>
        <tr>
          <th>make test</th>
          <td><textarea>(in /home/mruby/mips/mruby-mruby-a5bc5b2)
CC    test/driver.c -> build/host/test/driver.o
LD    build/host/bin/mrbc 
rake aborted!
Command Failed: ["gcc"  -o "/home/mruby/mips/mruby-mruby-a5bc5b2/build/host/bin/mrbc" "/home/mruby/mips/mruby-mruby-a5bc5b2/build/host/tools/mrbc/mrbc.o" "/home/mruby/mips/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a"  -lm ]

</textarea></td>
          <td><textarea>/home/mruby/mips/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(kernel.o)(.text+0x2a74):/home/mruby/mips/mruby-mruby-a5bc5b2/src/kernel.c:1112: undefined reference to `mrb_f_sprintf'
/home/mruby/mips/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(kernel.o)(.text+0x2a7c):/home/mruby/mips/mruby-mruby-a5bc5b2/src/kernel.c:1112: undefined reference to `mrb_f_sprintf'
</textarea></td>
        </tr>
        
      </table>
    
      
      <h3><a name="openbsd32bit">openbsd32bit</a> <span style="font-size:small;"><a href="#top">#top</a></span></h3>
      <table border='1' style="width:90%;">
        <tr>
          <th style="width:100px;">task</th>
          <th>stdout</th>
          <th>stderr</th>
        </tr>
        <tr>
          <th>make</th>
          <td><textarea>(in /home/mruby/mruby-test-tool/tmp/20130305000630-9372-build/mruby-mruby-a5bc5b2)
CC    tools/mruby/mruby.c -> build/host/tools/mruby/mruby.o
CC    src/array.c -> build/host/src/array.o
CC    src/class.c -> build/host/src/class.o
CC    src/codegen.c -> build/host/src/codegen.o
CC    src/compar.c -> build/host/src/compar.o
CC    src/crc.c -> build/host/src/crc.o
CC    src/dump.c -> build/host/src/dump.o
CC    src/enum.c -> build/host/src/enum.o
CC    src/error.c -> build/host/src/error.o
CC    src/etc.c -> build/host/src/etc.o
CC    src/gc.c -> build/host/src/gc.o
CC    src/hash.c -> build/host/src/hash.o
CC    src/init.c -> build/host/src/init.o
CC    src/kernel.c -> build/host/src/kernel.o
CC    src/load.c -> build/host/src/load.o
CC    src/numeric.c -> build/host/src/numeric.o
CC    src/object.c -> build/host/src/object.o
CC    src/pool.c -> build/host/src/pool.o
CC    src/print.c -> build/host/src/print.o
CC    src/proc.c -> build/host/src/proc.o
CC    src/range.c -> build/host/src/range.o
CC    src/state.c -> build/host/src/state.o
CC    src/string.c -> build/host/src/string.o
CC    src/symbol.c -> build/host/src/symbol.o
CC    src/variable.c -> build/host/src/variable.o
CC    src/vm.c -> build/host/src/vm.o
YACC  src/parse.y -> build/host/src/y.tab.c
CC    build/host/src/y.tab.c -> build/host/src/y.tab.o
CC    tools/mrbc/mrbc.c -> build/host/tools/mrbc/mrbc.o
AR    build/host/lib/libmruby_core.a 
LD    build/host/bin/mrbc 
rake aborted!
Command Failed: ["gcc"  -o "/home/mruby/mruby-test-tool/tmp/20130305000630-9372-build/mruby-mruby-a5bc5b2/build/host/bin/mrbc" "/home/mruby/mruby-test-tool/tmp/20130305000630-9372-build/mruby-mruby-a5bc5b2/build/host/tools/mrbc/mrbc.o" "/home/mruby/mruby-test-tool/tmp/20130305000630-9372-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a"  -lm ]</textarea></td>
          <td><textarea>/home/mruby/mruby-test-tool/tmp/20130305000630-9372-build/mruby-mruby-a5bc5b2/src/dump.c: In function 'get_syms_block_size':
/home/mruby/mruby-test-tool/tmp/20130305000630-9372-build/mruby-mruby-a5bc5b2/src/dump.c:285: warning: passing argument 1 of 'str_dump_len' discards qualifiers from pointer target type
/home/mruby/mruby-test-tool/tmp/20130305000630-9372-build/mruby-mruby-a5bc5b2/src/dump.c: In function 'write_syms_block':
/home/mruby/mruby-test-tool/tmp/20130305000630-9372-build/mruby-mruby-a5bc5b2/src/dump.c:427: warning: passing argument 1 of 'str_dump_len' discards qualifiers from pointer target type
/home/mruby/mruby-test-tool/tmp/20130305000630-9372-build/mruby-mruby-a5bc5b2/src/dump.c:435: warning: passing argument 1 of 'str_dump' discards qualifiers from pointer target type
/home/mruby/mruby-test-tool/tmp/20130305000630-9372-build/mruby-mruby-a5bc5b2/src/dump.c: In function 'write_irep_record':
/home/mruby/mruby-test-tool/tmp/20130305000630-9372-build/mruby-mruby-a5bc5b2/src/dump.c:598: warning: 'crc' may be used uninitialized in this function
ar: creating /home/mruby/mruby-test-tool/tmp/20130305000630-9372-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a
/home/mruby/mruby-test-tool/tmp/20130305000630-9372-build/mruby-mruby-a5bc5b2/build/host/tools/mrbc/mrbc.o(.text+0x6b): In function `get_outfilename':
/home/mruby/mruby-test-tool/tmp/20130305000630-9372-build/mruby-mruby-a5bc5b2/tools/mrbc/mrbc.c:54: warning: strcpy() is almost always misused, please use strlcpy()
/home/mruby/mruby-test-tool/tmp/20130305000630-9372-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(dump.o)(.text+0xd5): In function `get_pool_block_size':
/home/mruby/mruby-test-tool/tmp/20130305000630-9372-build/mruby-mruby-a5bc5b2/src/dump.c:250: warning: sprintf() is often misused, please use snprintf()
/home/mruby/mruby-test-tool/tmp/20130305000630-9372-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(kernel.o)(.text+0x61b): In function `mrb_init_kernel':
/home/mruby/mruby-test-tool/tmp/20130305000630-9372-build/mruby-mruby-a5bc5b2/src/kernel.c:1112: undefined reference to `mrb_f_sprintf'
/home/mruby/mruby-test-tool/tmp/20130305000630-9372-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(kernel.o)(.text+0x63f):/home/mruby/mruby-test-tool/tmp/20130305000630-9372-build/mruby-mruby-a5bc5b2/src/kernel.c:1113: undefined reference to `mrb_f_sprintf'
collect2: ld returned 1 exit status</textarea></td>
        </tr>
        <tr>
          <th>make test</th>
          <td><textarea>(in /home/mruby/mruby-test-tool/tmp/20130305000630-9372-build/mruby-mruby-a5bc5b2)
CC    test/driver.c -> build/host/test/driver.o
LD    build/host/bin/mrbc 
rake aborted!
Command Failed: ["gcc"  -o "/home/mruby/mruby-test-tool/tmp/20130305000630-9372-build/mruby-mruby-a5bc5b2/build/host/bin/mrbc" "/home/mruby/mruby-test-tool/tmp/20130305000630-9372-build/mruby-mruby-a5bc5b2/build/host/tools/mrbc/mrbc.o" "/home/mruby/mruby-test-tool/tmp/20130305000630-9372-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a"  -lm ]</textarea></td>
          <td><textarea>/home/mruby/mruby-test-tool/tmp/20130305000630-9372-build/mruby-mruby-a5bc5b2/build/host/tools/mrbc/mrbc.o(.text+0x6b): In function `get_outfilename':
/home/mruby/mruby-test-tool/tmp/20130305000630-9372-build/mruby-mruby-a5bc5b2/tools/mrbc/mrbc.c:54: warning: strcpy() is almost always misused, please use strlcpy()
/home/mruby/mruby-test-tool/tmp/20130305000630-9372-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(dump.o)(.text+0xd5): In function `get_pool_block_size':
/home/mruby/mruby-test-tool/tmp/20130305000630-9372-build/mruby-mruby-a5bc5b2/src/dump.c:250: warning: sprintf() is often misused, please use snprintf()
/home/mruby/mruby-test-tool/tmp/20130305000630-9372-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(kernel.o)(.text+0x61b): In function `mrb_init_kernel':
/home/mruby/mruby-test-tool/tmp/20130305000630-9372-build/mruby-mruby-a5bc5b2/src/kernel.c:1112: undefined reference to `mrb_f_sprintf'
/home/mruby/mruby-test-tool/tmp/20130305000630-9372-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(kernel.o)(.text+0x63f):/home/mruby/mruby-test-tool/tmp/20130305000630-9372-build/mruby-mruby-a5bc5b2/src/kernel.c:1113: undefined reference to `mrb_f_sprintf'
collect2: ld returned 1 exit status</textarea></td>
        </tr>
        
      </table>
    
      
      <h3><a name="openbsd64bit">openbsd64bit</a> <span style="font-size:small;"><a href="#top">#top</a></span></h3>
      <table border='1' style="width:90%;">
        <tr>
          <th style="width:100px;">task</th>
          <th>stdout</th>
          <th>stderr</th>
        </tr>
        <tr>
          <th>make</th>
          <td><textarea>(in /home/mruby/mruby-test-tool/tmp/20130305000630-5237-build/mruby-mruby-a5bc5b2)
CC    tools/mruby/mruby.c -> build/host/tools/mruby/mruby.o
CC    src/array.c -> build/host/src/array.o
CC    src/class.c -> build/host/src/class.o
CC    src/codegen.c -> build/host/src/codegen.o
CC    src/compar.c -> build/host/src/compar.o
CC    src/crc.c -> build/host/src/crc.o
CC    src/dump.c -> build/host/src/dump.o
CC    src/enum.c -> build/host/src/enum.o
CC    src/error.c -> build/host/src/error.o
CC    src/etc.c -> build/host/src/etc.o
CC    src/gc.c -> build/host/src/gc.o
CC    src/hash.c -> build/host/src/hash.o
CC    src/init.c -> build/host/src/init.o
CC    src/kernel.c -> build/host/src/kernel.o
CC    src/load.c -> build/host/src/load.o
CC    src/numeric.c -> build/host/src/numeric.o
CC    src/object.c -> build/host/src/object.o
CC    src/pool.c -> build/host/src/pool.o
CC    src/print.c -> build/host/src/print.o
CC    src/proc.c -> build/host/src/proc.o
CC    src/range.c -> build/host/src/range.o
CC    src/state.c -> build/host/src/state.o
CC    src/string.c -> build/host/src/string.o
CC    src/symbol.c -> build/host/src/symbol.o
CC    src/variable.c -> build/host/src/variable.o
CC    src/vm.c -> build/host/src/vm.o
YACC  src/parse.y -> build/host/src/y.tab.c
CC    build/host/src/y.tab.c -> build/host/src/y.tab.o
CC    tools/mrbc/mrbc.c -> build/host/tools/mrbc/mrbc.o
AR    build/host/lib/libmruby_core.a 
LD    build/host/bin/mrbc 
rake aborted!
Command Failed: ["gcc"  -o "/home/mruby/mruby-test-tool/tmp/20130305000630-5237-build/mruby-mruby-a5bc5b2/build/host/bin/mrbc" "/home/mruby/mruby-test-tool/tmp/20130305000630-5237-build/mruby-mruby-a5bc5b2/build/host/tools/mrbc/mrbc.o" "/home/mruby/mruby-test-tool/tmp/20130305000630-5237-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a"  -lm ]</textarea></td>
          <td><textarea>/home/mruby/mruby-test-tool/tmp/20130305000630-5237-build/mruby-mruby-a5bc5b2/src/dump.c: In function 'get_syms_block_size':
/home/mruby/mruby-test-tool/tmp/20130305000630-5237-build/mruby-mruby-a5bc5b2/src/dump.c:285: warning: passing argument 1 of 'str_dump_len' discards qualifiers from pointer target type
/home/mruby/mruby-test-tool/tmp/20130305000630-5237-build/mruby-mruby-a5bc5b2/src/dump.c: In function 'write_syms_block':
/home/mruby/mruby-test-tool/tmp/20130305000630-5237-build/mruby-mruby-a5bc5b2/src/dump.c:427: warning: passing argument 1 of 'str_dump_len' discards qualifiers from pointer target type
/home/mruby/mruby-test-tool/tmp/20130305000630-5237-build/mruby-mruby-a5bc5b2/src/dump.c:435: warning: passing argument 1 of 'str_dump' discards qualifiers from pointer target type
/home/mruby/mruby-test-tool/tmp/20130305000630-5237-build/mruby-mruby-a5bc5b2/src/dump.c: In function 'write_irep_record':
/home/mruby/mruby-test-tool/tmp/20130305000630-5237-build/mruby-mruby-a5bc5b2/src/dump.c:598: warning: 'crc' may be used uninitialized in this function
ar: creating /home/mruby/mruby-test-tool/tmp/20130305000630-5237-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a
/home/mruby/mruby-test-tool/tmp/20130305000630-5237-build/mruby-mruby-a5bc5b2/build/host/tools/mrbc/mrbc.o(.text+0x6d): In function `get_outfilename':
/home/mruby/mruby-test-tool/tmp/20130305000630-5237-build/mruby-mruby-a5bc5b2/tools/mrbc/mrbc.c:54: warning: strcpy() is almost always misused, please use strlcpy()
/home/mruby/mruby-test-tool/tmp/20130305000630-5237-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(dump.o)(.text+0xb5): In function `get_pool_block_size':
/home/mruby/mruby-test-tool/tmp/20130305000630-5237-build/mruby-mruby-a5bc5b2/src/dump.c:250: warning: sprintf() is often misused, please use snprintf()
/home/mruby/mruby-test-tool/tmp/20130305000630-5237-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(kernel.o)(.text+0x466): In function `mrb_init_kernel':
/home/mruby/mruby-test-tool/tmp/20130305000630-5237-build/mruby-mruby-a5bc5b2/src/kernel.c:1112: undefined reference to `mrb_f_sprintf'
/home/mruby/mruby-test-tool/tmp/20130305000630-5237-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(kernel.o)(.text+0x475):/home/mruby/mruby-test-tool/tmp/20130305000630-5237-build/mruby-mruby-a5bc5b2/src/kernel.c:1113: undefined reference to `mrb_f_sprintf'
collect2: ld returned 1 exit status</textarea></td>
        </tr>
        <tr>
          <th>make test</th>
          <td><textarea>(in /home/mruby/mruby-test-tool/tmp/20130305000630-5237-build/mruby-mruby-a5bc5b2)
CC    test/driver.c -> build/host/test/driver.o
LD    build/host/bin/mrbc 
rake aborted!
Command Failed: ["gcc"  -o "/home/mruby/mruby-test-tool/tmp/20130305000630-5237-build/mruby-mruby-a5bc5b2/build/host/bin/mrbc" "/home/mruby/mruby-test-tool/tmp/20130305000630-5237-build/mruby-mruby-a5bc5b2/build/host/tools/mrbc/mrbc.o" "/home/mruby/mruby-test-tool/tmp/20130305000630-5237-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a"  -lm ]</textarea></td>
          <td><textarea>/home/mruby/mruby-test-tool/tmp/20130305000630-5237-build/mruby-mruby-a5bc5b2/build/host/tools/mrbc/mrbc.o(.text+0x6d): In function `get_outfilename':
/home/mruby/mruby-test-tool/tmp/20130305000630-5237-build/mruby-mruby-a5bc5b2/tools/mrbc/mrbc.c:54: warning: strcpy() is almost always misused, please use strlcpy()
/home/mruby/mruby-test-tool/tmp/20130305000630-5237-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(dump.o)(.text+0xb5): In function `get_pool_block_size':
/home/mruby/mruby-test-tool/tmp/20130305000630-5237-build/mruby-mruby-a5bc5b2/src/dump.c:250: warning: sprintf() is often misused, please use snprintf()
/home/mruby/mruby-test-tool/tmp/20130305000630-5237-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(kernel.o)(.text+0x466): In function `mrb_init_kernel':
/home/mruby/mruby-test-tool/tmp/20130305000630-5237-build/mruby-mruby-a5bc5b2/src/kernel.c:1112: undefined reference to `mrb_f_sprintf'
/home/mruby/mruby-test-tool/tmp/20130305000630-5237-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(kernel.o)(.text+0x475):/home/mruby/mruby-test-tool/tmp/20130305000630-5237-build/mruby-mruby-a5bc5b2/src/kernel.c:1113: undefined reference to `mrb_f_sprintf'
collect2: ld returned 1 exit status</textarea></td>
        </tr>
        
      </table>
    
      
      <h3><a name="ubuntu32bit">ubuntu32bit</a> <span style="font-size:small;"><a href="#top">#top</a></span></h3>
      <table border='1' style="width:90%;">
        <tr>
          <th style="width:100px;">task</th>
          <th>stdout</th>
          <th>stderr</th>
        </tr>
        <tr>
          <th>make</th>
          <td><textarea>(in /home/mruby/mruby-test-tool/tmp/20130304230130-6365-build/mruby-mruby-a5bc5b2)
CC    tools/mruby/mruby.c -> build/host/tools/mruby/mruby.o
CC    src/pool.c -> build/host/src/pool.o
CC    src/kernel.c -> build/host/src/kernel.o
CC    src/codegen.c -> build/host/src/codegen.o
CC    src/state.c -> build/host/src/state.o
CC    src/gc.c -> build/host/src/gc.o
CC    src/init.c -> build/host/src/init.o
CC    src/class.c -> build/host/src/class.o
CC    src/array.c -> build/host/src/array.o
CC    src/symbol.c -> build/host/src/symbol.o
CC    src/print.c -> build/host/src/print.o
CC    src/etc.c -> build/host/src/etc.o
CC    src/enum.c -> build/host/src/enum.o
CC    src/proc.c -> build/host/src/proc.o
CC    src/numeric.c -> build/host/src/numeric.o
CC    src/vm.c -> build/host/src/vm.o
CC    src/object.c -> build/host/src/object.o
CC    src/load.c -> build/host/src/load.o
CC    src/range.c -> build/host/src/range.o
CC    src/variable.c -> build/host/src/variable.o
CC    src/error.c -> build/host/src/error.o
CC    src/dump.c -> build/host/src/dump.o
CC    src/crc.c -> build/host/src/crc.o
CC    src/compar.c -> build/host/src/compar.o
CC    src/string.c -> build/host/src/string.o
CC    src/hash.c -> build/host/src/hash.o
YACC  src/parse.y -> build/host/src/y.tab.c
CC    build/host/src/y.tab.c -> build/host/src/y.tab.o
CC    tools/mrbc/mrbc.c -> build/host/tools/mrbc/mrbc.o
AR    build/host/lib/libmruby_core.a 
LD    build/host/bin/mrbc 
rake aborted!
Command Failed: ["gcc"  -o "/home/mruby/mruby-test-tool/tmp/20130304230130-6365-build/mruby-mruby-a5bc5b2/build/host/bin/mrbc" "/home/mruby/mruby-test-tool/tmp/20130304230130-6365-build/mruby-mruby-a5bc5b2/build/host/tools/mrbc/mrbc.o" "/home/mruby/mruby-test-tool/tmp/20130304230130-6365-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a"  -lm ]</textarea></td>
          <td><textarea>ar: creating /home/mruby/mruby-test-tool/tmp/20130304230130-6365-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a
/home/mruby/mruby-test-tool/tmp/20130304230130-6365-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(kernel.o): In function `mrb_init_kernel':
/home/mruby/mruby-test-tool/tmp/20130304230130-6365-build/mruby-mruby-a5bc5b2/src/kernel.c:1112: undefined reference to `mrb_f_sprintf'
/home/mruby/mruby-test-tool/tmp/20130304230130-6365-build/mruby-mruby-a5bc5b2/src/kernel.c:1113: undefined reference to `mrb_f_sprintf'
collect2: ld returned 1 exit status</textarea></td>
        </tr>
        <tr>
          <th>make test</th>
          <td><textarea>(in /home/mruby/mruby-test-tool/tmp/20130304230130-6365-build/mruby-mruby-a5bc5b2)
CC    test/driver.c -> build/host/test/driver.o
LD    build/host/bin/mrbc 
rake aborted!
Command Failed: ["gcc"  -o "/home/mruby/mruby-test-tool/tmp/20130304230130-6365-build/mruby-mruby-a5bc5b2/build/host/bin/mrbc" "/home/mruby/mruby-test-tool/tmp/20130304230130-6365-build/mruby-mruby-a5bc5b2/build/host/tools/mrbc/mrbc.o" "/home/mruby/mruby-test-tool/tmp/20130304230130-6365-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a"  -lm ]</textarea></td>
          <td><textarea>/home/mruby/mruby-test-tool/tmp/20130304230130-6365-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(kernel.o): In function `mrb_init_kernel':
/home/mruby/mruby-test-tool/tmp/20130304230130-6365-build/mruby-mruby-a5bc5b2/src/kernel.c:1112: undefined reference to `mrb_f_sprintf'
/home/mruby/mruby-test-tool/tmp/20130304230130-6365-build/mruby-mruby-a5bc5b2/src/kernel.c:1113: undefined reference to `mrb_f_sprintf'
collect2: ld returned 1 exit status</textarea></td>
        </tr>
        
      </table>
    
      
      <h3><a name="ubuntu64bit">ubuntu64bit</a> <span style="font-size:small;"><a href="#top">#top</a></span></h3>
      <table border='1' style="width:90%;">
        <tr>
          <th style="width:100px;">task</th>
          <th>stdout</th>
          <th>stderr</th>
        </tr>
        <tr>
          <th>make</th>
          <td><textarea>(in /home/mruby/mruby-test-tool/tmp/20130304230140-14296-build/mruby-mruby-a5bc5b2)
CC    tools/mruby/mruby.c -> build/host/tools/mruby/mruby.o
CC    src/vm.c -> build/host/src/vm.o
CC    src/print.c -> build/host/src/print.o
CC    src/symbol.c -> build/host/src/symbol.o
CC    src/object.c -> build/host/src/object.o
CC    src/range.c -> build/host/src/range.o
CC    src/kernel.c -> build/host/src/kernel.o
CC    src/numeric.c -> build/host/src/numeric.o
CC    src/load.c -> build/host/src/load.o
CC    src/variable.c -> build/host/src/variable.o
CC    src/pool.c -> build/host/src/pool.o
CC    src/compar.c -> build/host/src/compar.o
CC    src/etc.c -> build/host/src/etc.o
CC    src/enum.c -> build/host/src/enum.o
CC    src/state.c -> build/host/src/state.o
CC    src/codegen.c -> build/host/src/codegen.o
CC    src/init.c -> build/host/src/init.o
CC    src/dump.c -> build/host/src/dump.o
CC    src/class.c -> build/host/src/class.o
CC    src/crc.c -> build/host/src/crc.o
CC    src/gc.c -> build/host/src/gc.o
CC    src/string.c -> build/host/src/string.o
CC    src/error.c -> build/host/src/error.o
CC    src/proc.c -> build/host/src/proc.o
CC    src/array.c -> build/host/src/array.o
CC    src/hash.c -> build/host/src/hash.o
YACC  src/parse.y -> build/host/src/y.tab.c
CC    build/host/src/y.tab.c -> build/host/src/y.tab.o
CC    tools/mrbc/mrbc.c -> build/host/tools/mrbc/mrbc.o
AR    build/host/lib/libmruby_core.a 
LD    build/host/bin/mrbc 
rake aborted!
Command Failed: ["gcc"  -o "/home/mruby/mruby-test-tool/tmp/20130304230140-14296-build/mruby-mruby-a5bc5b2/build/host/bin/mrbc" "/home/mruby/mruby-test-tool/tmp/20130304230140-14296-build/mruby-mruby-a5bc5b2/build/host/tools/mrbc/mrbc.o" "/home/mruby/mruby-test-tool/tmp/20130304230140-14296-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a"  -lm ]</textarea></td>
          <td><textarea>ar: creating /home/mruby/mruby-test-tool/tmp/20130304230140-14296-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a
/home/mruby/mruby-test-tool/tmp/20130304230140-14296-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(kernel.o): In function `mrb_init_kernel':
/home/mruby/mruby-test-tool/tmp/20130304230140-14296-build/mruby-mruby-a5bc5b2/src/kernel.c:1112: undefined reference to `mrb_f_sprintf'
/home/mruby/mruby-test-tool/tmp/20130304230140-14296-build/mruby-mruby-a5bc5b2/src/kernel.c:1113: undefined reference to `mrb_f_sprintf'
collect2: ld returned 1 exit status</textarea></td>
        </tr>
        <tr>
          <th>make test</th>
          <td><textarea>(in /home/mruby/mruby-test-tool/tmp/20130304230140-14296-build/mruby-mruby-a5bc5b2)
CC    test/driver.c -> build/host/test/driver.o
LD    build/host/bin/mrbc 
rake aborted!
Command Failed: ["gcc"  -o "/home/mruby/mruby-test-tool/tmp/20130304230140-14296-build/mruby-mruby-a5bc5b2/build/host/bin/mrbc" "/home/mruby/mruby-test-tool/tmp/20130304230140-14296-build/mruby-mruby-a5bc5b2/build/host/tools/mrbc/mrbc.o" "/home/mruby/mruby-test-tool/tmp/20130304230140-14296-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a"  -lm ]</textarea></td>
          <td><textarea>/home/mruby/mruby-test-tool/tmp/20130304230140-14296-build/mruby-mruby-a5bc5b2/build/host/lib/libmruby_core.a(kernel.o): In function `mrb_init_kernel':
/home/mruby/mruby-test-tool/tmp/20130304230140-14296-build/mruby-mruby-a5bc5b2/src/kernel.c:1112: undefined reference to `mrb_f_sprintf'
/home/mruby/mruby-test-tool/tmp/20130304230140-14296-build/mruby-mruby-a5bc5b2/src/kernel.c:1113: undefined reference to `mrb_f_sprintf'
collect2: ld returned 1 exit status</textarea></td>
        </tr>
        
      </table>
    

    <h2><a name="commitlog">commit log</a> <span style="font-size:small;"><a href="#top">#top</a></span></h2>
      <pre>commit a5bc5b2574c1cf000258e9f209319bf65d3a6672
Author: Masaki Muranaka &lt;monaka@monami-ya.jp&gt;
Date:   Mon Mar 4 22:27:23 2013 +0900

    Move src/sprintf to mrbgems/mruby-sprintf/src/

diff --git a/mrbgems/mruby-sprintf/src/sprintf.c b/mrbgems/mruby-sprintf/src/sprintf.c
new file mode 100644
index 0000000..192d447
--- /dev/null
+++ b/mrbgems/mruby-sprintf/src/sprintf.c
@@ -0,0 +1,1095 @@
+/*
+** sprintf.c - Kernel.#sprintf
+**
+** See Copyright Notice in mruby.h
+*/
+
+#include &quot;mruby.h&quot;
+
+#ifdef ENABLE_SPRINTF
+
+#include &lt;stdio.h&gt;
+#include &lt;string.h&gt;
+#include &quot;mruby/string.h&quot;
+#include &quot;mruby/hash.h&quot;
+#include &quot;mruby/numeric.h&quot;
+#include &lt;math.h&gt;
+#include &lt;ctype.h&gt;
+
+#ifdef _MSC_VER
+#include &lt;float.h&gt;
+#endif
+
+#ifdef HAVE_IEEEFP_H
+#include &lt;ieeefp.h&gt;
+#endif
+
+#define BIT_DIGITS(N)   (((N)*146)/485 + 1)  /* log2(10) =~ 146/485 */
+#define BITSPERDIG (sizeof(mrb_int)*CHAR_BIT)
+#define EXTENDSIGN(n, l) (((~0 &lt;&lt; (n)) &gt;&gt; (((n)*(l)) % BITSPERDIG)) &amp; ~(~0 &lt;&lt; (n)))
+
+static void fmt_setup(char*,size_t,int,int,int,int);
+
+static char*
+remove_sign_bits(char *str, int base)
+{
+  char *t;
+
+  t = str;
+  if (base == 16) {
+    while (*t == 'f') {
+      t++;
+    }
+  }
+  else if (base == 8) {
+    *t |= EXTENDSIGN(3, strlen(t));
+    while (*t == '7') {
+      t++;
+    }
+  }
+  else if (base == 2) {
+    while (*t == '1') {
+      t++;
+    }
+  }
+
+  return t;
+}
+
+static char
+sign_bits(int base, const char *p)
+{
+  char c;
+
+  switch (base) {
+  case 16:
+    if (*p == 'X') c = 'F';
+    else c = 'f';
+    break;
+  case 8:
+    c = '7'; break;
+  case 2:
+    c = '1'; break;
+  default:
+    c = '.'; break;
+  }
+  return c;
+}
+
+static mrb_value
+mrb_fix2binstr(mrb_state *mrb, mrb_value x, int base)
+{
+  char buf[64], *b = buf + sizeof buf;
+  unsigned long val = mrb_fixnum(x);
+  char d;
+
+  if (base != 2) {
+    mrb_raisef(mrb, E_ARGUMENT_ERROR, &quot;invalid radix %d&quot;, base);
+  }
+
+  if (val &gt;= (1 &lt;&lt; 10))
+    val &amp;= 0x3ff;
+
+  if (val == 0) {
+    return mrb_str_new(mrb, &quot;0&quot;, 1);
+  }
+  *--b = '\0';
+  do {
+    *--b = mrb_digitmap[(int)(val % base)];
+  } while (val /= base);
+
+  if (mrb_fixnum(x) &lt; 0) {
+    b = remove_sign_bits(b, base);
+    switch (base) {
+    case 16: d = 'f'; break;
+    case 8:  d = '7'; break;
+    case 2:  d = '1'; break;
+    default: d = 0;   break;
+    }
+
+    if (d &amp;&amp; *b != d) {
+      *--b = d;
+    }
+  }
+
+  return mrb_str_new2(mrb, b);
+}
+
+#define FNONE  0
+#define FSHARP 1
+#define FMINUS 2
+#define FPLUS  4
+#define FZERO  8
+#define FSPACE 16
+#define FWIDTH 32
+#define FPREC  64
+#define FPREC0 128
+
+#define CHECK(l) do {\
+/*  int cr = ENC_CODERANGE(result);*/\
+  while (blen + (l) &gt;= bsiz) {\
+    bsiz*=2;\
+  }\
+  mrb_str_resize(mrb, result, bsiz);\
+/*  ENC_CODERANGE_SET(result, cr);*/\
+  buf = RSTRING_PTR(result);\
+} while (0)
+
+#define PUSH(s, l) do { \
+  CHECK(l);\
+  memcpy(&amp;buf[blen], s, l);\
+  blen += (l);\
+} while (0)
+
+#define FILL(c, l) do { \
+  CHECK(l);\
+  memset(&amp;buf[blen], c, l);\
+  blen += (l);\
+} while (0)
+
+#define GETARG() (!mrb_undef_p(nextvalue) ? nextvalue : \
+  posarg == -1 ? \
+  (mrb_raisef(mrb, E_ARGUMENT_ERROR, &quot;unnumbered(%d) mixed with numbered&quot;, nextarg), mrb_undef_value()) : \
+  posarg == -2 ? \
+  (mrb_raisef(mrb, E_ARGUMENT_ERROR, &quot;unnumbered(%d) mixed with named&quot;, nextarg), mrb_undef_value()) : \
+  (posarg = nextarg++, GETNTHARG(posarg)))
+
+#define GETPOSARG(n) (posarg &gt; 0 ? \
+  (mrb_raisef(mrb, E_ARGUMENT_ERROR, &quot;numbered(%d) after unnumbered(%d)&quot;, n, posarg), mrb_undef_value()) : \
+  posarg == -2 ? \
+  (mrb_raisef(mrb, E_ARGUMENT_ERROR, &quot;numbered(%d) after named&quot;, n), mrb_undef_value()) : \
+  ((n &lt; 1) ? \
+  (mrb_raisef(mrb, E_ARGUMENT_ERROR, &quot;invalid index - %d$&quot;, n), mrb_undef_value()) : \
+  (posarg = -1, GETNTHARG(n))))
+
+#define GETNTHARG(nth) \
+  ((nth &gt;= argc) ? (mrb_raise(mrb, E_ARGUMENT_ERROR, &quot;too few arguments&quot;), mrb_undef_value()) : argv[nth])
+
+#define GETNAMEARG(id, name, len) ( \
+  posarg &gt; 0 ? \
+  (mrb_raisef(mrb, E_ARGUMENT_ERROR, &quot;named%.*s after unnumbered(%d)&quot;, (len), (name), posarg), mrb_undef_value()) : \
+  posarg == -1 ? \
+  (mrb_raisef(mrb, E_ARGUMENT_ERROR, &quot;named%.*s after numbered&quot;, (len), (name)), mrb_undef_value()) :    \
+  (posarg = -2, mrb_hash_fetch(mrb, get_hash(mrb, &amp;hash, argc, argv), id, mrb_undef_value())))
+
+#define GETNUM(n, val) \
+  for (; p &lt; end &amp;&amp; ISDIGIT(*p); p++) {\
+    int next_n = 10 * n + (*p - '0'); \
+    if (next_n / 10 != n) {\
+      mrb_raise(mrb, E_ARGUMENT_ERROR, #val &quot; too big&quot;); \
+    } \
+    n = next_n; \
+  } \
+  if (p &gt;= end) { \
+    mrb_raise(mrb, E_ARGUMENT_ERROR, &quot;malformed format string - %*[0-9]&quot;); \
+  }
+
+#define GETASTER(num) do { \
+  t = p++; \
+  n = 0; \
+  GETNUM(n, val); \
+  if (*p == '$') { \
+    tmp = GETPOSARG(n); \
+  } \
+  else { \
+    tmp = GETARG(); \
+    p = t; \
+  } \
+  num = mrb_fixnum(tmp); \
+} while (0)
+
+static mrb_value
+get_hash(mrb_state *mrb, mrb_value *hash, int argc, const mrb_value *argv)
+{
+  mrb_value tmp;
+
+  if (!mrb_undef_p(*hash)) return *hash;
+  if (argc != 2) {
+    mrb_raise(mrb, E_ARGUMENT_ERROR, &quot;one hash required&quot;);
+  }
+  tmp = mrb_check_convert_type(mrb, argv[1], MRB_TT_HASH, &quot;Hash&quot;, &quot;to_hash&quot;);
+  if (mrb_nil_p(tmp)) {
+    mrb_raise(mrb, E_ARGUMENT_ERROR, &quot;one hash required&quot;);
+  }
+  return (*hash = tmp);
+}
+
+/*
+ *  call-seq:
+ *     format(format_string [, arguments...] )   -&gt; string
+ *     sprintf(format_string [, arguments...] )  -&gt; string
+ *
+ *  Returns the string resulting from applying &lt;i&gt;format_string&lt;/i&gt; to
+ *  any additional arguments.  Within the format string, any characters
+ *  other than format sequences are copied to the result.
+ *
+ *  The syntax of a format sequence is follows.
+ *
+ *    %[flags][width][.precision]type
+ *
+ *  A format
+ *  sequence consists of a percent sign, followed by optional flags,
+ *  width, and precision indicators, then terminated with a field type
+ *  character.  The field type controls how the corresponding
+ *  &lt;code&gt;sprintf&lt;/code&gt; argument is to be interpreted, while the flags
+ *  modify that interpretation.
+ *
+ *  The field type characters are:
+ *
+ *      Field |  Integer Format
+ *      ------+--------------------------------------------------------------
+ *        b   | Convert argument as a binary number.
+ *            | Negative numbers will be displayed as a two's complement
+ *            | prefixed with `..1'.
+ *        B   | Equivalent to `b', but uses an uppercase 0B for prefix
+ *            | in the alternative format by #.
+ *        d   | Convert argument as a decimal number.
+ *        i   | Identical to `d'.
+ *        o   | Convert argument as an octal number.
+ *            | Negative numbers will be displayed as a two's complement
+ *            | prefixed with `..7'.
+ *        u   | Identical to `d'.
+ *        x   | Convert argument as a hexadecimal number.
+ *            | Negative numbers will be displayed as a two's complement
+ *            | prefixed with `..f' (representing an infinite string of
+ *            | leading 'ff's).
+ *        X   | Equivalent to `x', but uses uppercase letters.
+ *
+ *      Field |  Float Format
+ *      ------+--------------------------------------------------------------
+ *        e   | Convert floating point argument into exponential notation
+ *            | with one digit before the decimal point as [-]d.dddddde[+-]dd.
+ *            | The precision specifies the number of digits after the decimal
+ *            | point (defaulting to six).
+ *        E   | Equivalent to `e', but uses an uppercase E to indicate
+ *            | the exponent.
+ *        f   | Convert floating point argument as [-]ddd.dddddd,
+ *            | where the precision specifies the number of digits after
+ *            | the decimal point.
+ *        g   | Convert a floating point number using exponential form
+ *            | if the exponent is less than -4 or greater than or
+ *            | equal to the precision, or in dd.dddd form otherwise.
+ *            | The precision specifies the number of significant digits.
+ *        G   | Equivalent to `g', but use an uppercase `E' in exponent form.
+ *        a   | Convert floating point argument as [-]0xh.hhhhp[+-]dd,
+ *            | which is consisted from optional sign, &quot;0x&quot;, fraction part
+ *            | as hexadecimal, &quot;p&quot;, and exponential part as decimal.
+ *        A   | Equivalent to `a', but use uppercase `X' and `P'.
+ *
+ *      Field |  Other Format
+ *      ------+--------------------------------------------------------------
+ *        c   | Argument is the numeric code for a single character or
+ *            | a single character string itself.
+ *        p   | The valuing of argument.inspect.
+ *        s   | Argument is a string to be substituted.  If the format
+ *            | sequence contains a precision, at most that many characters
+ *            | will be copied.
+ *        %   | A percent sign itself will be displayed.  No argument taken.
+ *
+ *  The flags modifies the behavior of the formats.
+ *  The flag characters are:
+ *
+ *    Flag     | Applies to    | Meaning
+ *    ---------+---------------+-----------------------------------------
+ *    space    | bBdiouxX      | Leave a space at the start of
+ *             | aAeEfgG       | non-negative numbers.
+ *             | (numeric fmt) | For `o', `x', `X', `b' and `B', use
+ *             |               | a minus sign with absolute value for
+ *             |               | negative values.
+ *    ---------+---------------+-----------------------------------------
+ *    (digit)$ | all           | Specifies the absolute argument number
+ *             |               | for this field.  Absolute and relative
+ *             |               | argument numbers cannot be mixed in a
+ *             |               | sprintf string.
+ *    ---------+---------------+-----------------------------------------
+ *     #       | bBoxX         | Use an alternative format.
+ *             | aAeEfgG       | For the conversions `o', increase the precision
+ *             |               | until the first digit will be `0' if
+ *             |               | it is not formatted as complements.
+ *             |               | For the conversions `x', `X', `b' and `B'
+ *             |               | on non-zero, prefix the result with ``0x'',
+ *             |               | ``0X'', ``0b'' and ``0B'', respectively.
+ *             |               | For `a', `A', `e', `E', `f', `g', and 'G',
+ *             |               | force a decimal point to be added,
+ *             |               | even if no digits follow.
+ *             |               | For `g' and 'G', do not remove trailing zeros.
+ *    ---------+---------------+-----------------------------------------
+ *    +        | bBdiouxX      | Add a leading plus sign to non-negative
+ *             | aAeEfgG       | numbers.
+ *             | (numeric fmt) | For `o', `x', `X', `b' and `B', use
+ *             |               | a minus sign with absolute value for
+ *             |               | negative values.
+ *    ---------+---------------+-----------------------------------------
+ *    -        | all           | Left-justify the result of this conversion.
+ *    ---------+---------------+-----------------------------------------
+ *    0 (zero) | bBdiouxX      | Pad with zeros, not spaces.
+ *             | aAeEfgG       | For `o', `x', `X', `b' and `B', radix-1
+ *             | (numeric fmt) | is used for negative numbers formatted as
+ *             |               | complements.
+ *    ---------+---------------+-----------------------------------------
+ *    *        | all           | Use the next argument as the field width.
+ *             |               | If negative, left-justify the result. If the
+ *             |               | asterisk is followed by a number and a dollar
+ *             |               | sign, use the indicated argument as the width.
+ *
+ *  Examples of flags:
+ *
+ *   # `+' and space flag specifies the sign of non-negative numbers.
+ *   sprintf(&quot;%d&quot;, 123)  #=&gt; &quot;123&quot;
+ *   sprintf(&quot;%+d&quot;, 123) #=&gt; &quot;+123&quot;
+ *   sprintf(&quot;% d&quot;, 123) #=&gt; &quot; 123&quot;
+ *
+ *   # `#' flag for `o' increases number of digits to show `0'.
+ *   # `+' and space flag changes format of negative numbers.
+ *   sprintf(&quot;%o&quot;, 123)   #=&gt; &quot;173&quot;
+ *   sprintf(&quot;%#o&quot;, 123)  #=&gt; &quot;0173&quot;
+ *   sprintf(&quot;%+o&quot;, -123) #=&gt; &quot;-173&quot;
+ *   sprintf(&quot;%o&quot;, -123)  #=&gt; &quot;..7605&quot;
+ *   sprintf(&quot;%#o&quot;, -123) #=&gt; &quot;..7605&quot;
+ *
+ *   # `#' flag for `x' add a prefix `0x' for non-zero numbers.
+ *   # `+' and space flag disables complements for negative numbers.
+ *   sprintf(&quot;%x&quot;, 123)   #=&gt; &quot;7b&quot;
+ *   sprintf(&quot;%#x&quot;, 123)  #=&gt; &quot;0x7b&quot;
+ *   sprintf(&quot;%+x&quot;, -123) #=&gt; &quot;-7b&quot;
+ *   sprintf(&quot;%x&quot;, -123)  #=&gt; &quot;..f85&quot;
+ *   sprintf(&quot;%#x&quot;, -123) #=&gt; &quot;0x..f85&quot;
+ *   sprintf(&quot;%#x&quot;, 0)    #=&gt; &quot;0&quot;
+ *
+ *   # `#' for `X' uses the prefix `0X'.
+ *   sprintf(&quot;%X&quot;, 123)  #=&gt; &quot;7B&quot;
+ *   sprintf(&quot;%#X&quot;, 123) #=&gt; &quot;0X7B&quot;
+ *
+ *   # `#' flag for `b' add a prefix `0b' for non-zero numbers.
+ *   # `+' and space flag disables complements for negative numbers.
+ *   sprintf(&quot;%b&quot;, 123)   #=&gt; &quot;1111011&quot;
+ *   sprintf(&quot;%#b&quot;, 123)  #=&gt; &quot;0b1111011&quot;
+ *   sprintf(&quot;%+b&quot;, -123) #=&gt; &quot;-1111011&quot;
+ *   sprintf(&quot;%b&quot;, -123)  #=&gt; &quot;..10000101&quot;
+ *   sprintf(&quot;%#b&quot;, -123) #=&gt; &quot;0b..10000101&quot;
+ *   sprintf(&quot;%#b&quot;, 0)    #=&gt; &quot;0&quot;
+ *
+ *   # `#' for `B' uses the prefix `0B'.
+ *   sprintf(&quot;%B&quot;, 123)  #=&gt; &quot;1111011&quot;
+ *   sprintf(&quot;%#B&quot;, 123) #=&gt; &quot;0B1111011&quot;
+ *
+ *   # `#' for `e' forces to show the decimal point.
+ *   sprintf(&quot;%.0e&quot;, 1)  #=&gt; &quot;1e+00&quot;
+ *   sprintf(&quot;%#.0e&quot;, 1) #=&gt; &quot;1.e+00&quot;
+ *
+ *   # `#' for `f' forces to show the decimal point.
+ *   sprintf(&quot;%.0f&quot;, 1234)  #=&gt; &quot;1234&quot;
+ *   sprintf(&quot;%#.0f&quot;, 1234) #=&gt; &quot;1234.&quot;
+ *
+ *   # `#' for `g' forces to show the decimal point.
+ *   # It also disables stripping lowest zeros.
+ *   sprintf(&quot;%g&quot;, 123.4)   #=&gt; &quot;123.4&quot;
+ *   sprintf(&quot;%#g&quot;, 123.4)  #=&gt; &quot;123.400&quot;
+ *   sprintf(&quot;%g&quot;, 123456)  #=&gt; &quot;123456&quot;
+ *   sprintf(&quot;%#g&quot;, 123456) #=&gt; &quot;123456.&quot;
+ *
+ *  The field width is an optional integer, followed optionally by a
+ *  period and a precision.  The width specifies the minimum number of
+ *  characters that will be written to the result for this field.
+ *
+ *  Examples of width:
+ *
+ *   # padding is done by spaces,       width=20
+ *   # 0 or radix-1.             &lt;------------------&gt;
+ *   sprintf(&quot;%20d&quot;, 123)   #=&gt; &quot;                 123&quot;
+ *   sprintf(&quot;%+20d&quot;, 123)  #=&gt; &quot;                +123&quot;
+ *   sprintf(&quot;%020d&quot;, 123)  #=&gt; &quot;00000000000000000123&quot;
+ *   sprintf(&quot;%+020d&quot;, 123) #=&gt; &quot;+0000000000000000123&quot;
+ *   sprintf(&quot;% 020d&quot;, 123) #=&gt; &quot; 0000000000000000123&quot;
+ *   sprintf(&quot;%-20d&quot;, 123)  #=&gt; &quot;123                 &quot;
+ *   sprintf(&quot;%-+20d&quot;, 123) #=&gt; &quot;+123                &quot;
+ *   sprintf(&quot;%- 20d&quot;, 123) #=&gt; &quot; 123                &quot;
+ *   sprintf(&quot;%020x&quot;, -123) #=&gt; &quot;..ffffffffffffffff85&quot;
+ *
+ *  For
+ *  numeric fields, the precision controls the number of decimal places
+ *  displayed.  For string fields, the precision determines the maximum
+ *  number of characters to be copied from the string.  (Thus, the format
+ *  sequence &lt;code&gt;%10.10s&lt;/code&gt; will always contribute exactly ten
+ *  characters to the result.)
+ *
+ *  Examples of precisions:
+ *
+ *   # precision for `d', 'o', 'x' and 'b' is
+ *   # minimum number of digits               &lt;------&gt;
+ *   sprintf(&quot;%20.8d&quot;, 123)  #=&gt; &quot;            00000123&quot;
+ *   sprintf(&quot;%20.8o&quot;, 123)  #=&gt; &quot;            00000173&quot;
+ *   sprintf(&quot;%20.8x&quot;, 123)  #=&gt; &quot;            0000007b&quot;
+ *   sprintf(&quot;%20.8b&quot;, 123)  #=&gt; &quot;            01111011&quot;
+ *   sprintf(&quot;%20.8d&quot;, -123) #=&gt; &quot;           -00000123&quot;
+ *   sprintf(&quot;%20.8o&quot;, -123) #=&gt; &quot;            ..777605&quot;
+ *   sprintf(&quot;%20.8x&quot;, -123) #=&gt; &quot;            ..ffff85&quot;
+ *   sprintf(&quot;%20.8b&quot;, -11)  #=&gt; &quot;            ..110101&quot;
+ *
+ *   # &quot;0x&quot; and &quot;0b&quot; for `#x' and `#b' is not counted for
+ *   # precision but &quot;0&quot; for `#o' is counted.  &lt;------&gt;
+ *   sprintf(&quot;%#20.8d&quot;, 123)  #=&gt; &quot;            00000123&quot;
+ *   sprintf(&quot;%#20.8o&quot;, 123)  #=&gt; &quot;            00000173&quot;
+ *   sprintf(&quot;%#20.8x&quot;, 123)  #=&gt; &quot;          0x0000007b&quot;
+ *   sprintf(&quot;%#20.8b&quot;, 123)  #=&gt; &quot;          0b01111011&quot;
+ *   sprintf(&quot;%#20.8d&quot;, -123) #=&gt; &quot;           -00000123&quot;
+ *   sprintf(&quot;%#20.8o&quot;, -123) #=&gt; &quot;            ..777605&quot;
+ *   sprintf(&quot;%#20.8x&quot;, -123) #=&gt; &quot;          0x..ffff85&quot;
+ *   sprintf(&quot;%#20.8b&quot;, -11)  #=&gt; &quot;          0b..110101&quot;
+ *
+ *   # precision for `e' is number of
+ *   # digits after the decimal point           &lt;------&gt;
+ *   sprintf(&quot;%20.8e&quot;, 1234.56789) #=&gt; &quot;      1.23456789e+03&quot;
+ *
+ *   # precision for `f' is number of
+ *   # digits after the decimal point               &lt;------&gt;
+ *   sprintf(&quot;%20.8f&quot;, 1234.56789) #=&gt; &quot;       1234.56789000&quot;
+ *
+ *   # precision for `g' is number of
+ *   # significant digits                          &lt;-------&gt;
+ *   sprintf(&quot;%20.8g&quot;, 1234.56789) #=&gt; &quot;           1234.5679&quot;
+ *
+ *   #                                         &lt;-------&gt;
+ *   sprintf(&quot;%20.8g&quot;, 123456789)  #=&gt; &quot;       1.2345679e+08&quot;
+ *
+ *   # precision for `s' is
+ *   # maximum number of characters                    &lt;------&gt;
+ *   sprintf(&quot;%20.8s&quot;, &quot;string test&quot;) #=&gt; &quot;            string t&quot;
+ *
+ *  Examples:
+ *
+ *     sprintf(&quot;%d %04x&quot;, 123, 123)               #=&gt; &quot;123 007b&quot;
+ *     sprintf(&quot;%08b '%4s'&quot;, 123, 123)            #=&gt; &quot;01111011 ' 123'&quot;
+ *     sprintf(&quot;%1$*2$s %2$d %1$s&quot;, &quot;hello&quot;, 8)   #=&gt; &quot;   hello 8 hello&quot;
+ *     sprintf(&quot;%1$*2$s %2$d&quot;, &quot;hello&quot;, -8)       #=&gt; &quot;hello    -8&quot;
+ *     sprintf(&quot;%+g:% g:%-g&quot;, 1.23, 1.23, 1.23)   #=&gt; &quot;+1.23: 1.23:1.23&quot;
+ *     sprintf(&quot;%u&quot;, -123)                        #=&gt; &quot;-123&quot;
+ *
+ *  For more complex formatting, Ruby supports a reference by name.
+ *  %&lt;name&gt;s style uses format style, but %{name} style doesn't.
+ *
+ *  Exapmles:
+ *    sprintf(&quot;%&lt;foo&gt;d : %&lt;bar&gt;f&quot;, { :foo =&gt; 1, :bar =&gt; 2 })
+ *      #=&gt; 1 : 2.000000
+ *    sprintf(&quot;%{foo}f&quot;, { :foo =&gt; 1 })
+ *      # =&gt; &quot;1f&quot;
+ */
+
+mrb_value
+mrb_f_sprintf(mrb_state *mrb, mrb_value obj)
+{
+  int argc;
+  mrb_value *argv;
+
+  mrb_get_args(mrb, &quot;*&quot;, &amp;argv, &amp;argc);
+
+  if (argc &lt;= 0) {
+    mrb_raise(mrb, E_ARGUMENT_ERROR, &quot;too few arguments&quot;);
+    return mrb_nil_value();
+  }
+  else {
+    return mrb_str_format(mrb, argc - 1, argv + 1, argv[0]);
+  }
+}
+
+mrb_value
+mrb_str_format(mrb_state *mrb, int argc, const mrb_value *argv, mrb_value fmt)
+{
+  const char *p, *end;
+  char *buf;
+  long blen, bsiz;
+  mrb_value result;
+  int n;
+  int width, prec, flags = FNONE;
+  int nextarg = 1;
+  int posarg = 0;
+  mrb_value nextvalue;
+  mrb_value tmp;
+  mrb_value str;
+  mrb_value hash = mrb_undef_value();
+
+#define CHECK_FOR_WIDTH(f)                                                  \
+  if ((f) &amp; FWIDTH) {                                                       \
+    mrb_raise(mrb, E_ARGUMENT_ERROR, &quot;width given twice&quot;);         \
+  }                                                                         \
+  if ((f) &amp; FPREC0) {                                                       \
+    mrb_raise(mrb, E_ARGUMENT_ERROR, &quot;width after precision&quot;);     \
+  }
+#define CHECK_FOR_FLAGS(f)                                                  \
+  if ((f) &amp; FWIDTH) {                                                       \
+    mrb_raise(mrb, E_ARGUMENT_ERROR, &quot;flag after width&quot;);          \
+  }                                                                         \
+  if ((f) &amp; FPREC0) {                                                       \
+    mrb_raise(mrb, E_ARGUMENT_ERROR, &quot;flag after precision&quot;);      \
+  }
+
+  ++argc;
+  --argv;
+  mrb_string_value(mrb, &amp;fmt);
+  p = RSTRING_PTR(fmt);
+  end = p + RSTRING_LEN(fmt);
+  blen = 0;
+  bsiz = 120;
+  result = mrb_str_buf_new(mrb, bsiz);
+  buf = RSTRING_PTR(result);
+  memset(buf, 0, bsiz);
+
+  for (; p &lt; end; p++) {
+    const char *t;
+    mrb_sym id = 0;
+
+    for (t = p; t &lt; end &amp;&amp; *t != '%'; t++) ;
+    PUSH(p, t - p);
+    if (t &gt;= end)
+      goto sprint_exit; /* end of fmt string */
+
+    p = t + 1;    /* skip `%' */
+
+    width = prec = -1;
+    nextvalue = mrb_undef_value();
+
+retry:
+    switch (*p) {
+      default:
+        mrb_raisef(mrb, E_ARGUMENT_ERROR, &quot;malformed format string - %%%c&quot;, *p);
+        break;
+
+      case ' ':
+        CHECK_FOR_FLAGS(flags);
+        flags |= FSPACE;
+        p++;
+        goto retry;
+
+      case '#':
+        CHECK_FOR_FLAGS(flags);
+        flags |= FSHARP;
+        p++;
+        goto retry;
+
+      case '+':
+        CHECK_FOR_FLAGS(flags);
+        flags |= FPLUS;
+        p++;
+        goto retry;
+
+      case '-':
+        CHECK_FOR_FLAGS(flags);
+        flags |= FMINUS;
+        p++;
+        goto retry;
+
+      case '0':
+        CHECK_FOR_FLAGS(flags);
+        flags |= FZERO;
+        p++;
+        goto retry;
+
+      case '1': case '2': case '3': case '4':
+      case '5': case '6': case '7': case '8': case '9':
+        n = 0;
+        GETNUM(n, width);
+        if (*p == '$') {
+          if (!mrb_undef_p(nextvalue)) {
+            mrb_raisef(mrb, E_ARGUMENT_ERROR, &quot;value given twice - %d$&quot;, n);
+          }
+          nextvalue = GETPOSARG(n);
+          p++;
+          goto retry;
+        }
+        CHECK_FOR_WIDTH(flags);
+        width = n;
+        flags |= FWIDTH;
+        goto retry;
+
+      case '&lt;':
+      case '{': {
+        const char *start = p;
+        char term = (*p == '&lt;') ? '&gt;' : '}';
+        mrb_value symname;
+
+        for (; p &lt; end &amp;&amp; *p != term; )
+          p++;
+        if (id) {
+          mrb_raisef(mrb, E_ARGUMENT_ERROR, &quot;name%.*s after &lt;%s&gt;&quot;,
+                    (int)(p - start + 1), start, mrb_sym2name(mrb, id));
+        }
+        symname = mrb_str_new(mrb, start + 1, p - start - 1);
+        id = mrb_intern_str(mrb, symname);
+        nextvalue = GETNAMEARG(mrb_symbol_value(id), start, (int)(p - start + 1));
+        if (mrb_undef_p(nextvalue)) {
+          mrb_raisef(mrb, E_KEY_ERROR, &quot;key%.*s not found&quot;, (int)(p - start + 1), start);
+        }
+        if (term == '}') goto format_s;
+        p++;
+        goto retry;
+      }
+
+      case '*':
+        CHECK_FOR_WIDTH(flags);
+        flags |= FWIDTH;
+        GETASTER(width);
+        if (width &lt; 0) {
+          flags |= FMINUS;
+          width = -width;
+        }
+        p++;
+        goto retry;
+
+      case '.':
+        if (flags &amp; FPREC0) {
+          mrb_raise(mrb, E_ARGUMENT_ERROR, &quot;precision given twice&quot;);
+        }
+        flags |= FPREC|FPREC0;
+
+        prec = 0;
+        p++;
+        if (*p == '*') {
+          GETASTER(prec);
+          if (prec &lt; 0) {  /* ignore negative precision */
+            flags &amp;= ~FPREC;
+          }
+          p++;
+          goto retry;
+        }
+
+        GETNUM(prec, precision);
+        goto retry;
+
+      case '\n':
+      case '\0':
+        p--;
+
+      case '%':
+        if (flags != FNONE) {
+          mrb_raise(mrb, E_ARGUMENT_ERROR, &quot;invalid format character - %&quot;);
+        }
+        PUSH(&quot;%&quot;, 1);
+        break;
+
+      case 'c': {
+        mrb_value val = GETARG();
+        mrb_value tmp;
+        unsigned int c;
+
+        tmp = mrb_check_string_type(mrb, val);
+        if (!mrb_nil_p(tmp)) {
+          if (RSTRING_LEN(tmp) != 1 ) {
+            mrb_raise(mrb, E_ARGUMENT_ERROR, &quot;%c requires a character&quot;);
+          }
+          c = RSTRING_PTR(tmp)[0];
+          n = 1;
+        }
+        else {
+          c = mrb_fixnum(val);
+          n = 1;
+        }
+        if (n &lt;= 0) {
+          mrb_raise(mrb, E_ARGUMENT_ERROR, &quot;invalid character&quot;);
+        }
+        if (!(flags &amp; FWIDTH)) {
+          CHECK(n);
+          buf[blen] = c;
+          blen += n;
+        }
+        else if ((flags &amp; FMINUS)) {
+          CHECK(n);
+          buf[blen] = c;
+          blen += n;
+          FILL(' ', width-1);
+        }
+        else {
+          FILL(' ', width-1);
+          CHECK(n);
+          buf[blen] = c;
+          blen += n;
+        }
+      }
+      break;
+
+      case 's':
+      case 'p':
+  format_s:
+      {
+        mrb_value arg = GETARG();
+        long len, slen;
+
+        if (*p == 'p') arg = mrb_inspect(mrb, arg);
+        str = mrb_obj_as_string(mrb, arg);
+        len = RSTRING_LEN(str);
+        RSTRING_LEN(result) = blen;
+        if (flags&amp;(FPREC|FWIDTH)) {
+          slen = RSTRING_LEN(str);
+          if (slen &lt; 0) {
+            mrb_raise(mrb, E_ARGUMENT_ERROR, &quot;invalid mbstring sequence&quot;);
+          }
+          if ((flags&amp;FPREC) &amp;&amp; (prec &lt; slen)) {
+            char *p = RSTRING_PTR(str) + prec;
+            slen = prec;
+            len = p - RSTRING_PTR(str);
+          }
+          /* need to adjust multi-byte string pos */
+          if ((flags&amp;FWIDTH) &amp;&amp; (width &gt; slen)) {
+            width -= (int)slen;
+            if (!(flags&amp;FMINUS)) {
+              CHECK(width);
+              while (width--) {
+                buf[blen++] = ' ';
+              }
+            }
+            CHECK(len);
+            memcpy(&amp;buf[blen], RSTRING_PTR(str), len);
+            blen += len;
+            if (flags&amp;FMINUS) {
+              CHECK(width);
+              while (width--) {
+                buf[blen++] = ' ';
+              }
+            }
+            break;
+          }
+        }
+        PUSH(RSTRING_PTR(str), len);
+      }
+      break;
+
+      case 'd':
+      case 'i':
+      case 'o':
+      case 'x':
+      case 'X':
+      case 'b':
+      case 'B':
+      case 'u': {
+        mrb_value val = GETARG();
+        char fbuf[32], nbuf[64], *s;
+        const char *prefix = 0;
+        int sign = 0, dots = 0;
+        char sc = 0;
+        long v = 0, org_v = 0;
+        int base;
+        int len;
+
+        switch (*p) {
+          case 'd':
+          case 'i':
+          case 'u':
+            sign = 1; break;
+          case 'o':
+          case 'x':
+          case 'X':
+          case 'b':
+          case 'B':
+            if (flags&amp;(FPLUS|FSPACE)) sign = 1;
+            break;
+          default:
+            break;
+        }
+        if (flags &amp; FSHARP) {
+          switch (*p) {
+            case 'o': prefix = &quot;0&quot;; break;
+            case 'x': prefix = &quot;0x&quot;; break;
+            case 'X': prefix = &quot;0X&quot;; break;
+            case 'b': prefix = &quot;0b&quot;; break;
+            case 'B': prefix = &quot;0B&quot;; break;
+            default: break;
+          }
+        }
+
+  bin_retry:
+        switch (mrb_type(val)) {
+          case MRB_TT_FLOAT:
+            if (FIXABLE(mrb_float(val))) {
+              val = mrb_fixnum_value((mrb_int)mrb_float(val));
+              goto bin_retry;
+            }
+            val = mrb_flt2big(mrb, mrb_float(val));
+            if (mrb_fixnum_p(val)) goto bin_retry;
+            break;
+          case MRB_TT_STRING:
+            val = mrb_str_to_inum(mrb, val, 0, TRUE);
+            goto bin_retry;
+          case MRB_TT_FIXNUM:
+            v = (long)mrb_fixnum(val);
+            break;
+          default:
+            val = mrb_Integer(mrb, val);
+            goto bin_retry;
+        }
+
+        switch (*p) {
+          case 'o':
+            base = 8; break;
+          case 'x':
+          case 'X':
+            base = 16; break;
+          case 'b':
+          case 'B':
+            base = 2; break;
+          case 'u':
+          case 'd':
+          case 'i':
+          default:
+            base = 10; break;
+        }
+
+        if (base == 2) {
+          org_v = v;
+          if ( v &lt; 0 &amp;&amp; !sign ) {
+            val = mrb_fix2binstr(mrb, mrb_fixnum_value(v), base);
+            dots = 1;
+          }
+          else {
+            val = mrb_fix2str(mrb, mrb_fixnum_value(v), base);
+          }
+          v = mrb_fixnum(mrb_str_to_inum(mrb, val, 10, 0/*Qfalse*/));
+        }
+        if (sign) {
+          char c = *p;
+          if (c == 'i') c = 'd'; /* %d and %i are identical */
+          if (base == 2) c = 'd';
+          if (v &lt; 0) {
+            v = -v;
+            sc = '-';
+            width--;
+          }
+          else if (flags &amp; FPLUS) {
+            sc = '+';
+            width--;
+          }
+          else if (flags &amp; FSPACE) {
+            sc = ' ';
+            width--;
+          }
+          snprintf(fbuf, sizeof(fbuf), &quot;%%l%c&quot;, c);
+          snprintf(nbuf, sizeof(nbuf), fbuf, v);
+          s = nbuf;
+        }
+        else {
+          char c = *p;
+          if (c == 'X') c = 'x';
+          if (base == 2) c = 'd';
+          s = nbuf;
+          if (v &lt; 0) {
+            dots = 1;
+          }
+          snprintf(fbuf, sizeof(fbuf), &quot;%%l%c&quot;, c);
+          snprintf(++s, sizeof(nbuf) - 1, fbuf, v);
+          if (v &lt; 0) {
+            char d;
+
+            s = remove_sign_bits(s, base);
+            switch (base) {
+              case 16: d = 'f'; break;
+              case 8:  d = '7'; break;
+              case 2:  d = '1'; break;
+              default: d = 0; break;
+            }
+
+            if (d &amp;&amp; *s != d) {
+              *--s = d;
+            }
+          }
+        }
+        len = (int)strlen(s);
+
+        if (dots) {
+          prec -= 2;
+          width -= 2;
+        }
+
+        if (*p == 'X') {
+          char *pp = s;
+          int c;
+          while ((c = (int)(unsigned char)*pp) != 0) {
+            *pp = toupper(c);
+            pp++;
+          }
+        }
+
+        if (prefix &amp;&amp; !prefix[1]) { /* octal */
+          if (dots) {
+            prefix = 0;
+          }
+          else if (len == 1 &amp;&amp; *s == '0') {
+            len = 0;
+            if (flags &amp; FPREC) prec--;
+          }
+          else if ((flags &amp; FPREC) &amp;&amp; (prec &gt; len)) {
+            prefix = 0;
+          }
+        }
+        else if (len == 1 &amp;&amp; *s == '0') {
+          prefix = 0;
+        }
+
+        if (prefix) {
+          width -= (int)strlen(prefix);
+        }
+
+        if ((flags &amp; (FZERO|FMINUS|FPREC)) == FZERO) {
+          prec = width;
+          width = 0;
+        }
+        else {
+          if (prec &lt; len) {
+            if (!prefix &amp;&amp; prec == 0 &amp;&amp; len == 1 &amp;&amp; *s == '0') len = 0;
+            prec = len;
+          }
+          width -= prec;
+        }
+
+        if (!(flags&amp;FMINUS)) {
+          CHECK(width);
+          while (width-- &gt; 0) {
+            buf[blen++] = ' ';
+          }
+        }
+
+        if (sc) PUSH(&amp;sc, 1);
+
+        if (prefix) {
+          int plen = (int)strlen(prefix);
+          PUSH(prefix, plen);
+        }
+        CHECK(prec - len);
+        if (dots) PUSH(&quot;..&quot;, 2);
+
+        if (v &lt; 0 || (base == 2 &amp;&amp; org_v &lt; 0)) {
+          char c = sign_bits(base, p);
+          while (len &lt; prec--) {
+            buf[blen++] = c;
+          }
+        }
+        else if ((flags &amp; (FMINUS|FPREC)) != FMINUS) {
+          char c = '0';
+          while (len &lt; prec--) {
+            buf[blen++] = c;
+          }
+        }
+
+        PUSH(s, len);
+        CHECK(width);
+        while (width-- &gt; 0) {
+          buf[blen++] = ' ';
+        }
+      }
+      break;
+
+      case 'f':
+      case 'g':
+      case 'G':
+      case 'e':
+      case 'E':
+      case 'a':
+      case 'A': {
+        mrb_value val = GETARG();
+        double fval;
+        int i, need = 6;
+        char fbuf[32];
+
+        fval = mrb_float(mrb_Float(mrb, val));
+        if (isnan(fval) || isinf(fval)) {
+          const char *expr;
+          const int elen = 3;
+
+          if (isnan(fval)) {
+            expr = &quot;NaN&quot;;
+          }
+          else {
+            expr = &quot;Inf&quot;;
+          }
+          need = elen;
+          if ((!isnan(fval) &amp;&amp; fval &lt; 0.0) || (flags &amp; FPLUS))
+            need++;
+          if ((flags &amp; FWIDTH) &amp;&amp; need &lt; width)
+            need = width;
+
+          CHECK(need + 1);
+          n = snprintf(&amp;buf[blen], need + 1, &quot;%*s&quot;, need, &quot;&quot;);
+          if (flags &amp; FMINUS) {
+            if (!isnan(fval) &amp;&amp; fval &lt; 0.0)
+              buf[blen++] = '-';
+            else if (flags &amp; FPLUS)
+              buf[blen++] = '+';
+            else if (flags &amp; FSPACE)
+              blen++;
+            memcpy(&amp;buf[blen], expr, elen);
+          }
+          else {
+            if (!isnan(fval) &amp;&amp; fval &lt; 0.0)
+              buf[blen + need - elen - 1] = '-';
+            else if (flags &amp; FPLUS)
+              buf[blen + need - elen - 1] = '+';
+            else if ((flags &amp; FSPACE) &amp;&amp; need &gt; width)
+              blen++;
+            memcpy(&amp;buf[blen + need - elen], expr, elen);
+          }
+          blen += strlen(&amp;buf[blen]);
+          break;
+        }
+
+        fmt_setup(fbuf, sizeof(fbuf), *p, flags, width, prec);
+        need = 0;
+        if (*p != 'e' &amp;&amp; *p != 'E') {
+          i = INT_MIN;
+          frexp(fval, &amp;i);
+          if (i &gt; 0)
+            need = BIT_DIGITS(i);
+        }
+        need += (flags&amp;FPREC) ? prec : 6;
+        if ((flags&amp;FWIDTH) &amp;&amp; need &lt; width)
+          need = width;
+        need += 20;
+
+        CHECK(need);
+        n = snprintf(&amp;buf[blen], need, fbuf, fval);
+        blen += n;
+      }
+      break;
+    }
+    flags = FNONE;
+  }
+
+  sprint_exit:
+#if 0
+  /* XXX - We cannot validate the number of arguments if (digit)$ style used.
+   */
+  if (posarg &gt;= 0 &amp;&amp; nextarg &lt; argc) {
+    const char *mesg = &quot;too many arguments for format string&quot;;
+    if (mrb_test(ruby_debug)) mrb_raise(mrb, E_ARGUMENT_ERROR, mesg);
+    if (mrb_test(ruby_verbose)) mrb_warn(&quot;%s&quot;, mesg);
+  }
+#endif
+  mrb_str_resize(mrb, result, blen);
+
+  return result;
+}
+
+static void
+fmt_setup(char *buf, size_t size, int c, int flags, int width, int prec)
+{
+  char *end = buf + size;
+  int n;
+
+  *buf++ = '%';
+  if (flags &amp; FSHARP) *buf++ = '#';
+  if (flags &amp; FPLUS)  *buf++ = '+';
+  if (flags &amp; FMINUS) *buf++ = '-';
+  if (flags &amp; FZERO)  *buf++ = '0';
+  if (flags &amp; FSPACE) *buf++ = ' ';
+
+  if (flags &amp; FWIDTH) {
+    n = snprintf(buf, end - buf, &quot;%d&quot;, width);
+    buf += n;
+  }
+
+  if (flags &amp; FPREC) {
+    n = snprintf(buf, end - buf, &quot;.%d&quot;, prec);
+    buf += n;
+  }
+
+  *buf++ = c;
+  *buf = '\0';
+}
+
+#endif	/* ENABLE_SPRINTF */
diff --git a/src/sprintf.c b/src/sprintf.c
deleted file mode 100644
index 192d447..0000000
--- a/src/sprintf.c
+++ /dev/null
@@ -1,1095 +0,0 @@
-/*
-** sprintf.c - Kernel.#sprintf
-**
-** See Copyright Notice in mruby.h
-*/
-
-#include &quot;mruby.h&quot;
-
-#ifdef ENABLE_SPRINTF
-
-#include &lt;stdio.h&gt;
-#include &lt;string.h&gt;
-#include &quot;mruby/string.h&quot;
-#include &quot;mruby/hash.h&quot;
-#include &quot;mruby/numeric.h&quot;
-#include &lt;math.h&gt;
-#include &lt;ctype.h&gt;
-
-#ifdef _MSC_VER
-#include &lt;float.h&gt;
-#endif
-
-#ifdef HAVE_IEEEFP_H
-#include &lt;ieeefp.h&gt;
-#endif
-
-#define BIT_DIGITS(N)   (((N)*146)/485 + 1)  /* log2(10) =~ 146/485 */
-#define BITSPERDIG (sizeof(mrb_int)*CHAR_BIT)
-#define EXTENDSIGN(n, l) (((~0 &lt;&lt; (n)) &gt;&gt; (((n)*(l)) % BITSPERDIG)) &amp; ~(~0 &lt;&lt; (n)))
-
-static void fmt_setup(char*,size_t,int,int,int,int);
-
-static char*
-remove_sign_bits(char *str, int base)
-{
-  char *t;
-
-  t = str;
-  if (base == 16) {
-    while (*t == 'f') {
-      t++;
-    }
-  }
-  else if (base == 8) {
-    *t |= EXTENDSIGN(3, strlen(t));
-    while (*t == '7') {
-      t++;
-    }
-  }
-  else if (base == 2) {
-    while (*t == '1') {
-      t++;
-    }
-  }
-
-  return t;
-}
-
-static char
-sign_bits(int base, const char *p)
-{
-  char c;
-
-  switch (base) {
-  case 16:
-    if (*p == 'X') c = 'F';
-    else c = 'f';
-    break;
-  case 8:
-    c = '7'; break;
-  case 2:
-    c = '1'; break;
-  default:
-    c = '.'; break;
-  }
-  return c;
-}
-
-static mrb_value
-mrb_fix2binstr(mrb_state *mrb, mrb_value x, int base)
-{
-  char buf[64], *b = buf + sizeof buf;
-  unsigned long val = mrb_fixnum(x);
-  char d;
-
-  if (base != 2) {
-    mrb_raisef(mrb, E_ARGUMENT_ERROR, &quot;invalid radix %d&quot;, base);
-  }
-
-  if (val &gt;= (1 &lt;&lt; 10))
-    val &amp;= 0x3ff;
-
-  if (val == 0) {
-    return mrb_str_new(mrb, &quot;0&quot;, 1);
-  }
-  *--b = '\0';
-  do {
-    *--b = mrb_digitmap[(int)(val % base)];
-  } while (val /= base);
-
-  if (mrb_fixnum(x) &lt; 0) {
-    b = remove_sign_bits(b, base);
-    switch (base) {
-    case 16: d = 'f'; break;
-    case 8:  d = '7'; break;
-    case 2:  d = '1'; break;
-    default: d = 0;   break;
-    }
-
-    if (d &amp;&amp; *b != d) {
-      *--b = d;
-    }
-  }
-
-  return mrb_str_new2(mrb, b);
-}
-
-#define FNONE  0
-#define FSHARP 1
-#define FMINUS 2
-#define FPLUS  4
-#define FZERO  8
-#define FSPACE 16
-#define FWIDTH 32
-#define FPREC  64
-#define FPREC0 128
-
-#define CHECK(l) do {\
-/*  int cr = ENC_CODERANGE(result);*/\
-  while (blen + (l) &gt;= bsiz) {\
-    bsiz*=2;\
-  }\
-  mrb_str_resize(mrb, result, bsiz);\
-/*  ENC_CODERANGE_SET(result, cr);*/\
-  buf = RSTRING_PTR(result);\
-} while (0)
-
-#define PUSH(s, l) do { \
-  CHECK(l);\
-  memcpy(&amp;buf[blen], s, l);\
-  blen += (l);\
-} while (0)
-
-#define FILL(c, l) do { \
-  CHECK(l);\
-  memset(&amp;buf[blen], c, l);\
-  blen += (l);\
-} while (0)
-
-#define GETARG() (!mrb_undef_p(nextvalue) ? nextvalue : \
-  posarg == -1 ? \
-  (mrb_raisef(mrb, E_ARGUMENT_ERROR, &quot;unnumbered(%d) mixed with numbered&quot;, nextarg), mrb_undef_value()) : \
-  posarg == -2 ? \
-  (mrb_raisef(mrb, E_ARGUMENT_ERROR, &quot;unnumbered(%d) mixed with named&quot;, nextarg), mrb_undef_value()) : \
-  (posarg = nextarg++, GETNTHARG(posarg)))
-
-#define GETPOSARG(n) (posarg &gt; 0 ? \
-  (mrb_raisef(mrb, E_ARGUMENT_ERROR, &quot;numbered(%d) after unnumbered(%d)&quot;, n, posarg), mrb_undef_value()) : \
-  posarg == -2 ? \
-  (mrb_raisef(mrb, E_ARGUMENT_ERROR, &quot;numbered(%d) after named&quot;, n), mrb_undef_value()) : \
-  ((n &lt; 1) ? \
-  (mrb_raisef(mrb, E_ARGUMENT_ERROR, &quot;invalid index - %d$&quot;, n), mrb_undef_value()) : \
-  (posarg = -1, GETNTHARG(n))))
-
-#define GETNTHARG(nth) \
-  ((nth &gt;= argc) ? (mrb_raise(mrb, E_ARGUMENT_ERROR, &quot;too few arguments&quot;), mrb_undef_value()) : argv[nth])
-
-#define GETNAMEARG(id, name, len) ( \
-  posarg &gt; 0 ? \
-  (mrb_raisef(mrb, E_ARGUMENT_ERROR, &quot;named%.*s after unnumbered(%d)&quot;, (len), (name), posarg), mrb_undef_value()) : \
-  posarg == -1 ? \
-  (mrb_raisef(mrb, E_ARGUMENT_ERROR, &quot;named%.*s after numbered&quot;, (len), (name)), mrb_undef_value()) :    \
-  (posarg = -2, mrb_hash_fetch(mrb, get_hash(mrb, &amp;hash, argc, argv), id, mrb_undef_value())))
-
-#define GETNUM(n, val) \
-  for (; p &lt; end &amp;&amp; ISDIGIT(*p); p++) {\
-    int next_n = 10 * n + (*p - '0'); \
-    if (next_n / 10 != n) {\
-      mrb_raise(mrb, E_ARGUMENT_ERROR, #val &quot; too big&quot;); \
-    } \
-    n = next_n; \
-  } \
-  if (p &gt;= end) { \
-    mrb_raise(mrb, E_ARGUMENT_ERROR, &quot;malformed format string - %*[0-9]&quot;); \
-  }
-
-#define GETASTER(num) do { \
-  t = p++; \
-  n = 0; \
-  GETNUM(n, val); \
-  if (*p == '$') { \
-    tmp = GETPOSARG(n); \
-  } \
-  else { \
-    tmp = GETARG(); \
-    p = t; \
-  } \
-  num = mrb_fixnum(tmp); \
-} while (0)
-
-static mrb_value
-get_hash(mrb_state *mrb, mrb_value *hash, int argc, const mrb_value *argv)
-{
-  mrb_value tmp;
-
-  if (!mrb_undef_p(*hash)) return *hash;
-  if (argc != 2) {
-    mrb_raise(mrb, E_ARGUMENT_ERROR, &quot;one hash required&quot;);
-  }
-  tmp = mrb_check_convert_type(mrb, argv[1], MRB_TT_HASH, &quot;Hash&quot;, &quot;to_hash&quot;);
-  if (mrb_nil_p(tmp)) {
-    mrb_raise(mrb, E_ARGUMENT_ERROR, &quot;one hash required&quot;);
-  }
-  return (*hash = tmp);
-}
-
-/*
- *  call-seq:
- *     format(format_string [, arguments...] )   -&gt; string
- *     sprintf(format_string [, arguments...] )  -&gt; string
- *
- *  Returns the string resulting from applying &lt;i&gt;format_string&lt;/i&gt; to
- *  any additional arguments.  Within the format string, any characters
- *  other than format sequences are copied to the result.
- *
- *  The syntax of a format sequence is follows.
- *
- *    %[flags][width][.precision]type
- *
- *  A format
- *  sequence consists of a percent sign, followed by optional flags,
- *  width, and precision indicators, then terminated with a field type
- *  character.  The field type controls how the corresponding
- *  &lt;code&gt;sprintf&lt;/code&gt; argument is to be interpreted, while the flags
- *  modify that interpretation.
- *
- *  The field type characters are:
- *
- *      Field |  Integer Format
- *      ------+--------------------------------------------------------------
- *        b   | Convert argument as a binary number.
- *            | Negative numbers will be displayed as a two's complement
- *            | prefixed with `..1'.
- *        B   | Equivalent to `b', but uses an uppercase 0B for prefix
- *            | in the alternative format by #.
- *        d   | Convert argument as a decimal number.
- *        i   | Identical to `d'.
- *        o   | Convert argument as an octal number.
- *            | Negative numbers will be displayed as a two's complement
- *            | prefixed with `..7'.
- *        u   | Identical to `d'.
- *        x   | Convert argument as a hexadecimal number.
- *            | Negative numbers will be displayed as a two's complement
- *            | prefixed with `..f' (representing an infinite string of
- *            | leading 'ff's).
- *        X   | Equivalent to `x', but uses uppercase letters.
- *
- *      Field |  Float Format
- *      ------+--------------------------------------------------------------
- *        e   | Convert floating point argument into exponential notation
- *            | with one digit before the decimal point as [-]d.dddddde[+-]dd.
- *            | The precision specifies the number of digits after the decimal
- *            | point (defaulting to six).
- *        E   | Equivalent to `e', but uses an uppercase E to indicate
- *            | the exponent.
- *        f   | Convert floating point argument as [-]ddd.dddddd,
- *            | where the precision specifies the number of digits after
- *            | the decimal point.
- *        g   | Convert a floating point number using exponential form
- *            | if the exponent is less than -4 or greater than or
- *            | equal to the precision, or in dd.dddd form otherwise.
- *            | The precision specifies the number of significant digits.
- *        G   | Equivalent to `g', but use an uppercase `E' in exponent form.
- *        a   | Convert floating point argument as [-]0xh.hhhhp[+-]dd,
- *            | which is consisted from optional sign, &quot;0x&quot;, fraction part
- *            | as hexadecimal, &quot;p&quot;, and exponential part as decimal.
- *        A   | Equivalent to `a', but use uppercase `X' and `P'.
- *
- *      Field |  Other Format
- *      ------+--------------------------------------------------------------
- *        c   | Argument is the numeric code for a single character or
- *            | a single character string itself.
- *        p   | The valuing of argument.inspect.
- *        s   | Argument is a string to be substituted.  If the format
- *            | sequence contains a precision, at most that many characters
- *            | will be copied.
- *        %   | A percent sign itself will be displayed.  No argument taken.
- *
- *  The flags modifies the behavior of the formats.
- *  The flag characters are:
- *
- *    Flag     | Applies to    | Meaning
- *    ---------+---------------+-----------------------------------------
- *    space    | bBdiouxX      | Leave a space at the start of
- *             | aAeEfgG       | non-negative numbers.
- *             | (numeric fmt) | For `o', `x', `X', `b' and `B', use
- *             |               | a minus sign with absolute value for
- *             |               | negative values.
- *    ---------+---------------+-----------------------------------------
- *    (digit)$ | all           | Specifies the absolute argument number
- *             |               | for this field.  Absolute and relative
- *             |               | argument numbers cannot be mixed in a
- *             |               | sprintf string.
- *    ---------+---------------+-----------------------------------------
- *     #       | bBoxX         | Use an alternative format.
- *             | aAeEfgG       | For the conversions `o', increase the precision
- *             |               | until the first digit will be `0' if
- *             |               | it is not formatted as complements.
- *             |               | For the conversions `x', `X', `b' and `B'
- *             |               | on non-zero, prefix the result with ``0x'',
- *             |               | ``0X'', ``0b'' and ``0B'', respectively.
- *             |               | For `a', `A', `e', `E', `f', `g', and 'G',
- *             |               | force a decimal point to be added,
- *             |               | even if no digits follow.
- *             |               | For `g' and 'G', do not remove trailing zeros.
- *    ---------+---------------+-----------------------------------------
- *    +        | bBdiouxX      | Add a leading plus sign to non-negative
- *             | aAeEfgG       | numbers.
- *             | (numeric fmt) | For `o', `x', `X', `b' and `B', use
- *             |               | a minus sign with absolute value for
- *             |               | negative values.
- *    ---------+---------------+-----------------------------------------
- *    -        | all           | Left-justify the result of this conversion.
- *    ---------+---------------+-----------------------------------------
- *    0 (zero) | bBdiouxX      | Pad with zeros, not spaces.
- *             | aAeEfgG       | For `o', `x', `X', `b' and `B', radix-1
- *             | (numeric fmt) | is used for negative numbers formatted as
- *             |               | complements.
- *    ---------+---------------+-----------------------------------------
- *    *        | all           | Use the next argument as the field width.
- *             |               | If negative, left-justify the result. If the
- *             |               | asterisk is followed by a number and a dollar
- *             |               | sign, use the indicated argument as the width.
- *
- *  Examples of flags:
- *
- *   # `+' and space flag specifies the sign of non-negative numbers.
- *   sprintf(&quot;%d&quot;, 123)  #=&gt; &quot;123&quot;
- *   sprintf(&quot;%+d&quot;, 123) #=&gt; &quot;+123&quot;
- *   sprintf(&quot;% d&quot;, 123) #=&gt; &quot; 123&quot;
- *
- *   # `#' flag for `o' increases number of digits to show `0'.
- *   # `+' and space flag changes format of negative numbers.
- *   sprintf(&quot;%o&quot;, 123)   #=&gt; &quot;173&quot;
- *   sprintf(&quot;%#o&quot;, 123)  #=&gt; &quot;0173&quot;
- *   sprintf(&quot;%+o&quot;, -123) #=&gt; &quot;-173&quot;
- *   sprintf(&quot;%o&quot;, -123)  #=&gt; &quot;..7605&quot;
- *   sprintf(&quot;%#o&quot;, -123) #=&gt; &quot;..7605&quot;
- *
- *   # `#' flag for `x' add a prefix `0x' for non-zero numbers.
- *   # `+' and space flag disables complements for negative numbers.
- *   sprintf(&quot;%x&quot;, 123)   #=&gt; &quot;7b&quot;
- *   sprintf(&quot;%#x&quot;, 123)  #=&gt; &quot;0x7b&quot;
- *   sprintf(&quot;%+x&quot;, -123) #=&gt; &quot;-7b&quot;
- *   sprintf(&quot;%x&quot;, -123)  #=&gt; &quot;..f85&quot;
- *   sprintf(&quot;%#x&quot;, -123) #=&gt; &quot;0x..f85&quot;
- *   sprintf(&quot;%#x&quot;, 0)    #=&gt; &quot;0&quot;
- *
- *   # `#' for `X' uses the prefix `0X'.
- *   sprintf(&quot;%X&quot;, 123)  #=&gt; &quot;7B&quot;
- *   sprintf(&quot;%#X&quot;, 123) #=&gt; &quot;0X7B&quot;
- *
- *   # `#' flag for `b' add a prefix `0b' for non-zero numbers.
- *   # `+' and space flag disables complements for negative numbers.
- *   sprintf(&quot;%b&quot;, 123)   #=&gt; &quot;1111011&quot;
- *   sprintf(&quot;%#b&quot;, 123)  #=&gt; &quot;0b1111011&quot;
- *   sprintf(&quot;%+b&quot;, -123) #=&gt; &quot;-1111011&quot;
- *   sprintf(&quot;%b&quot;, -123)  #=&gt; &quot;..10000101&quot;
- *   sprintf(&quot;%#b&quot;, -123) #=&gt; &quot;0b..10000101&quot;
- *   sprintf(&quot;%#b&quot;, 0)    #=&gt; &quot;0&quot;
- *
- *   # `#' for `B' uses the prefix `0B'.
- *   sprintf(&quot;%B&quot;, 123)  #=&gt; &quot;1111011&quot;
- *   sprintf(&quot;%#B&quot;, 123) #=&gt; &quot;0B1111011&quot;
- *
- *   # `#' for `e' forces to show the decimal point.
- *   sprintf(&quot;%.0e&quot;, 1)  #=&gt; &quot;1e+00&quot;
- *   sprintf(&quot;%#.0e&quot;, 1) #=&gt; &quot;1.e+00&quot;
- *
- *   # `#' for `f' forces to show the decimal point.
- *   sprintf(&quot;%.0f&quot;, 1234)  #=&gt; &quot;1234&quot;
- *   sprintf(&quot;%#.0f&quot;, 1234) #=&gt; &quot;1234.&quot;
- *
- *   # `#' for `g' forces to show the decimal point.
- *   # It also disables stripping lowest zeros.
- *   sprintf(&quot;%g&quot;, 123.4)   #=&gt; &quot;123.4&quot;
- *   sprintf(&quot;%#g&quot;, 123.4)  #=&gt; &quot;123.400&quot;
- *   sprintf(&quot;%g&quot;, 123456)  #=&gt; &quot;123456&quot;
- *   sprintf(&quot;%#g&quot;, 123456) #=&gt; &quot;123456.&quot;
- *
- *  The field width is an optional integer, followed optionally by a
- *  period and a precision.  The width specifies the minimum number of
- *  characters that will be written to the result for this field.
- *
- *  Examples of width:
- *
- *   # padding is done by spaces,       width=20
- *   # 0 or radix-1.             &lt;------------------&gt;
- *   sprintf(&quot;%20d&quot;, 123)   #=&gt; &quot;                 123&quot;
- *   sprintf(&quot;%+20d&quot;, 123)  #=&gt; &quot;                +123&quot;
- *   sprintf(&quot;%020d&quot;, 123)  #=&gt; &quot;00000000000000000123&quot;
- *   sprintf(&quot;%+020d&quot;, 123) #=&gt; &quot;+0000000000000000123&quot;
- *   sprintf(&quot;% 020d&quot;, 123) #=&gt; &quot; 0000000000000000123&quot;
- *   sprintf(&quot;%-20d&quot;, 123)  #=&gt; &quot;123                 &quot;
- *   sprintf(&quot;%-+20d&quot;, 123) #=&gt; &quot;+123                &quot;
- *   sprintf(&quot;%- 20d&quot;, 123) #=&gt; &quot; 123                &quot;
- *   sprintf(&quot;%020x&quot;, -123) #=&gt; &quot;..ffffffffffffffff85&quot;
- *
- *  For
- *  numeric fields, the precision controls the number of decimal places
- *  displayed.  For string fields, the precision determines the maximum
- *  number of characters to be copied from the string.  (Thus, the format
- *  sequence &lt;code&gt;%10.10s&lt;/code&gt; will always contribute exactly ten
- *  characters to the result.)
- *
- *  Examples of precisions:
- *
- *   # precision for `d', 'o', 'x' and 'b' is
- *   # minimum number of digits               &lt;------&gt;
- *   sprintf(&quot;%20.8d&quot;, 123)  #=&gt; &quot;            00000123&quot;
- *   sprintf(&quot;%20.8o&quot;, 123)  #=&gt; &quot;            00000173&quot;
- *   sprintf(&quot;%20.8x&quot;, 123)  #=&gt; &quot;            0000007b&quot;
- *   sprintf(&quot;%20.8b&quot;, 123)  #=&gt; &quot;            01111011&quot;
- *   sprintf(&quot;%20.8d&quot;, -123) #=&gt; &quot;           -00000123&quot;
- *   sprintf(&quot;%20.8o&quot;, -123) #=&gt; &quot;            ..777605&quot;
- *   sprintf(&quot;%20.8x&quot;, -123) #=&gt; &quot;            ..ffff85&quot;
- *   sprintf(&quot;%20.8b&quot;, -11)  #=&gt; &quot;            ..110101&quot;
- *
- *   # &quot;0x&quot; and &quot;0b&quot; for `#x' and `#b' is not counted for
- *   # precision but &quot;0&quot; for `#o' is counted.  &lt;------&gt;
- *   sprintf(&quot;%#20.8d&quot;, 123)  #=&gt; &quot;            00000123&quot;
- *   sprintf(&quot;%#20.8o&quot;, 123)  #=&gt; &quot;            00000173&quot;
- *   sprintf(&quot;%#20.8x&quot;, 123)  #=&gt; &quot;          0x0000007b&quot;
- *   sprintf(&quot;%#20.8b&quot;, 123)  #=&gt; &quot;          0b01111011&quot;
- *   sprintf(&quot;%#20.8d&quot;, -123) #=&gt; &quot;           -00000123&quot;
- *   sprintf(&quot;%#20.8o&quot;, -123) #=&gt; &quot;            ..777605&quot;
- *   sprintf(&quot;%#20.8x&quot;, -123) #=&gt; &quot;          0x..ffff85&quot;
- *   sprintf(&quot;%#20.8b&quot;, -11)  #=&gt; &quot;          0b..110101&quot;
- *
- *   # precision for `e' is number of
- *   # digits after the decimal point           &lt;------&gt;
- *   sprintf(&quot;%20.8e&quot;, 1234.56789) #=&gt; &quot;      1.23456789e+03&quot;
- *
- *   # precision for `f' is number of
- *   # digits after the decimal point               &lt;------&gt;
- *   sprintf(&quot;%20.8f&quot;, 1234.56789) #=&gt; &quot;       1234.56789000&quot;
- *
- *   # precision for `g' is number of
- *   # significant digits                          &lt;-------&gt;
- *   sprintf(&quot;%20.8g&quot;, 1234.56789) #=&gt; &quot;           1234.5679&quot;
- *
- *   #                                         &lt;-------&gt;
- *   sprintf(&quot;%20.8g&quot;, 123456789)  #=&gt; &quot;       1.2345679e+08&quot;
- *
- *   # precision for `s' is
- *   # maximum number of characters                    &lt;------&gt;
- *   sprintf(&quot;%20.8s&quot;, &quot;string test&quot;) #=&gt; &quot;            string t&quot;
- *
- *  Examples:
- *
- *     sprintf(&quot;%d %04x&quot;, 123, 123)               #=&gt; &quot;123 007b&quot;
- *     sprintf(&quot;%08b '%4s'&quot;, 123, 123)            #=&gt; &quot;01111011 ' 123'&quot;
- *     sprintf(&quot;%1$*2$s %2$d %1$s&quot;, &quot;hello&quot;, 8)   #=&gt; &quot;   hello 8 hello&quot;
- *     sprintf(&quot;%1$*2$s %2$d&quot;, &quot;hello&quot;, -8)       #=&gt; &quot;hello    -8&quot;
- *     sprintf(&quot;%+g:% g:%-g&quot;, 1.23, 1.23, 1.23)   #=&gt; &quot;+1.23: 1.23:1.23&quot;
- *     sprintf(&quot;%u&quot;, -123)                        #=&gt; &quot;-123&quot;
- *
- *  For more complex formatting, Ruby supports a reference by name.
- *  %&lt;name&gt;s style uses format style, but %{name} style doesn't.
- *
- *  Exapmles:
- *    sprintf(&quot;%&lt;foo&gt;d : %&lt;bar&gt;f&quot;, { :foo =&gt; 1, :bar =&gt; 2 })
- *      #=&gt; 1 : 2.000000
- *    sprintf(&quot;%{foo}f&quot;, { :foo =&gt; 1 })
- *      # =&gt; &quot;1f&quot;
- */
-
-mrb_value
-mrb_f_sprintf(mrb_state *mrb, mrb_value obj)
-{
-  int argc;
-  mrb_value *argv;
-
-  mrb_get_args(mrb, &quot;*&quot;, &amp;argv, &amp;argc);
-
-  if (argc &lt;= 0) {
-    mrb_raise(mrb, E_ARGUMENT_ERROR, &quot;too few arguments&quot;);
-    return mrb_nil_value();
-  }
-  else {
-    return mrb_str_format(mrb, argc - 1, argv + 1, argv[0]);
-  }
-}
-
-mrb_value
-mrb_str_format(mrb_state *mrb, int argc, const mrb_value *argv, mrb_value fmt)
-{
-  const char *p, *end;
-  char *buf;
-  long blen, bsiz;
-  mrb_value result;
-  int n;
-  int width, prec, flags = FNONE;
-  int nextarg = 1;
-  int posarg = 0;
-  mrb_value nextvalue;
-  mrb_value tmp;
-  mrb_value str;
-  mrb_value hash = mrb_undef_value();
-
-#define CHECK_FOR_WIDTH(f)                                                  \
-  if ((f) &amp; FWIDTH) {                                                       \
-    mrb_raise(mrb, E_ARGUMENT_ERROR, &quot;width given twice&quot;);         \
-  }                                                                         \
-  if ((f) &amp; FPREC0) {                                                       \
-    mrb_raise(mrb, E_ARGUMENT_ERROR, &quot;width after precision&quot;);     \
-  }
-#define CHECK_FOR_FLAGS(f)                                                  \
-  if ((f) &amp; FWIDTH) {                                                       \
-    mrb_raise(mrb, E_ARGUMENT_ERROR, &quot;flag after width&quot;);          \
-  }                                                                         \
-  if ((f) &amp; FPREC0) {                                                       \
-    mrb_raise(mrb, E_ARGUMENT_ERROR, &quot;flag after precision&quot;);      \
-  }
-
-  ++argc;
-  --argv;
-  mrb_string_value(mrb, &amp;fmt);
-  p = RSTRING_PTR(fmt);
-  end = p + RSTRING_LEN(fmt);
-  blen = 0;
-  bsiz = 120;
-  result = mrb_str_buf_new(mrb, bsiz);
-  buf = RSTRING_PTR(result);
-  memset(buf, 0, bsiz);
-
-  for (; p &lt; end; p++) {
-    const char *t;
-    mrb_sym id = 0;
-
-    for (t = p; t &lt; end &amp;&amp; *t != '%'; t++) ;
-    PUSH(p, t - p);
-    if (t &gt;= end)
-      goto sprint_exit; /* end of fmt string */
-
-    p = t + 1;    /* skip `%' */
-
-    width = prec = -1;
-    nextvalue = mrb_undef_value();
-
-retry:
-    switch (*p) {
-      default:
-        mrb_raisef(mrb, E_ARGUMENT_ERROR, &quot;malformed format string - %%%c&quot;, *p);
-        break;
-
-      case ' ':
-        CHECK_FOR_FLAGS(flags);
-        flags |= FSPACE;
-        p++;
-        goto retry;
-
-      case '#':
-        CHECK_FOR_FLAGS(flags);
-        flags |= FSHARP;
-        p++;
-        goto retry;
-
-      case '+':
-        CHECK_FOR_FLAGS(flags);
-        flags |= FPLUS;
-        p++;
-        goto retry;
-
-      case '-':
-        CHECK_FOR_FLAGS(flags);
-        flags |= FMINUS;
-        p++;
-        goto retry;
-
-      case '0':
-        CHECK_FOR_FLAGS(flags);
-        flags |= FZERO;
-        p++;
-        goto retry;
-
-      case '1': case '2': case '3': case '4':
-      case '5': case '6': case '7': case '8': case '9':
-        n = 0;
-        GETNUM(n, width);
-        if (*p == '$') {
-          if (!mrb_undef_p(nextvalue)) {
-            mrb_raisef(mrb, E_ARGUMENT_ERROR, &quot;value given twice - %d$&quot;, n);
-          }
-          nextvalue = GETPOSARG(n);
-          p++;
-          goto retry;
-        }
-        CHECK_FOR_WIDTH(flags);
-        width = n;
-        flags |= FWIDTH;
-        goto retry;
-
-      case '&lt;':
-      case '{': {
-        const char *start = p;
-        char term = (*p == '&lt;') ? '&gt;' : '}';
-        mrb_value symname;
-
-        for (; p &lt; end &amp;&amp; *p != term; )
-          p++;
-        if (id) {
-          mrb_raisef(mrb, E_ARGUMENT_ERROR, &quot;name%.*s after &lt;%s&gt;&quot;,
-                    (int)(p - start + 1), start, mrb_sym2name(mrb, id));
-        }
-        symname = mrb_str_new(mrb, start + 1, p - start - 1);
-        id = mrb_intern_str(mrb, symname);
-        nextvalue = GETNAMEARG(mrb_symbol_value(id), start, (int)(p - start + 1));
-        if (mrb_undef_p(nextvalue)) {
-          mrb_raisef(mrb, E_KEY_ERROR, &quot;key%.*s not found&quot;, (int)(p - start + 1), start);
-        }
-        if (term == '}') goto format_s;
-        p++;
-        goto retry;
-      }
-
-      case '*':
-        CHECK_FOR_WIDTH(flags);
-        flags |= FWIDTH;
-        GETASTER(width);
-        if (width &lt; 0) {
-          flags |= FMINUS;
-          width = -width;
-        }
-        p++;
-        goto retry;
-
-      case '.':
-        if (flags &amp; FPREC0) {
-          mrb_raise(mrb, E_ARGUMENT_ERROR, &quot;precision given twice&quot;);
-        }
-        flags |= FPREC|FPREC0;
-
-        prec = 0;
-        p++;
-        if (*p == '*') {
-          GETASTER(prec);
-          if (prec &lt; 0) {  /* ignore negative precision */
-            flags &amp;= ~FPREC;
-          }
-          p++;
-          goto retry;
-        }
-
-        GETNUM(prec, precision);
-        goto retry;
-
-      case '\n':
-      case '\0':
-        p--;
-
-      case '%':
-        if (flags != FNONE) {
-          mrb_raise(mrb, E_ARGUMENT_ERROR, &quot;invalid format character - %&quot;);
-        }
-        PUSH(&quot;%&quot;, 1);
-        break;
-
-      case 'c': {
-        mrb_value val = GETARG();
-        mrb_value tmp;
-        unsigned int c;
-
-        tmp = mrb_check_string_type(mrb, val);
-        if (!mrb_nil_p(tmp)) {
-          if (RSTRING_LEN(tmp) != 1 ) {
-            mrb_raise(mrb, E_ARGUMENT_ERROR, &quot;%c requires a character&quot;);
-          }
-          c = RSTRING_PTR(tmp)[0];
-          n = 1;
-        }
-        else {
-          c = mrb_fixnum(val);
-          n = 1;
-        }
-        if (n &lt;= 0) {
-          mrb_raise(mrb, E_ARGUMENT_ERROR, &quot;invalid character&quot;);
-        }
-        if (!(flags &amp; FWIDTH)) {
-          CHECK(n);
-          buf[blen] = c;
-          blen += n;
-        }
-        else if ((flags &amp; FMINUS)) {
-          CHECK(n);
-          buf[blen] = c;
-          blen += n;
-          FILL(' ', width-1);
-        }
-        else {
-          FILL(' ', width-1);
-          CHECK(n);
-          buf[blen] = c;
-          blen += n;
-        }
-      }
-      break;
-
-      case 's':
-      case 'p':
-  format_s:
-      {
-        mrb_value arg = GETARG();
-        long len, slen;
-
-        if (*p == 'p') arg = mrb_inspect(mrb, arg);
-        str = mrb_obj_as_string(mrb, arg);
-        len = RSTRING_LEN(str);
-        RSTRING_LEN(result) = blen;
-        if (flags&amp;(FPREC|FWIDTH)) {
-          slen = RSTRING_LEN(str);
-          if (slen &lt; 0) {
-            mrb_raise(mrb, E_ARGUMENT_ERROR, &quot;invalid mbstring sequence&quot;);
-          }
-          if ((flags&amp;FPREC) &amp;&amp; (prec &lt; slen)) {
-            char *p = RSTRING_PTR(str) + prec;
-            slen = prec;
-            len = p - RSTRING_PTR(str);
-          }
-          /* need to adjust multi-byte string pos */
-          if ((flags&amp;FWIDTH) &amp;&amp; (width &gt; slen)) {
-            width -= (int)slen;
-            if (!(flags&amp;FMINUS)) {
-              CHECK(width);
-              while (width--) {
-                buf[blen++] = ' ';
-              }
-            }
-            CHECK(len);
-            memcpy(&amp;buf[blen], RSTRING_PTR(str), len);
-            blen += len;
-            if (flags&amp;FMINUS) {
-              CHECK(width);
-              while (width--) {
-                buf[blen++] = ' ';
-              }
-            }
-            break;
-          }
-        }
-        PUSH(RSTRING_PTR(str), len);
-      }
-      break;
-
-      case 'd':
-      case 'i':
-      case 'o':
-      case 'x':
-      case 'X':
-      case 'b':
-      case 'B':
-      case 'u': {
-        mrb_value val = GETARG();
-        char fbuf[32], nbuf[64], *s;
-        const char *prefix = 0;
-        int sign = 0, dots = 0;
-        char sc = 0;
-        long v = 0, org_v = 0;
-        int base;
-        int len;
-
-        switch (*p) {
-          case 'd':
-          case 'i':
-          case 'u':
-            sign = 1; break;
-          case 'o':
-          case 'x':
-          case 'X':
-          case 'b':
-          case 'B':
-            if (flags&amp;(FPLUS|FSPACE)) sign = 1;
-            break;
-          default:
-            break;
-        }
-        if (flags &amp; FSHARP) {
-          switch (*p) {
-            case 'o': prefix = &quot;0&quot;; break;
-            case 'x': prefix = &quot;0x&quot;; break;
-            case 'X': prefix = &quot;0X&quot;; break;
-            case 'b': prefix = &quot;0b&quot;; break;
-            case 'B': prefix = &quot;0B&quot;; break;
-            default: break;
-          }
-        }
-
-  bin_retry:
-        switch (mrb_type(val)) {
-          case MRB_TT_FLOAT:
-            if (FIXABLE(mrb_float(val))) {
-              val = mrb_fixnum_value((mrb_int)mrb_float(val));
-              goto bin_retry;
-            }
-            val = mrb_flt2big(mrb, mrb_float(val));
-            if (mrb_fixnum_p(val)) goto bin_retry;
-            break;
-          case MRB_TT_STRING:
-            val = mrb_str_to_inum(mrb, val, 0, TRUE);
-            goto bin_retry;
-          case MRB_TT_FIXNUM:
-            v = (long)mrb_fixnum(val);
-            break;
-          default:
-            val = mrb_Integer(mrb, val);
-            goto bin_retry;
-        }
-
-        switch (*p) {
-          case 'o':
-            base = 8; break;
-          case 'x':
-          case 'X':
-            base = 16; break;
-          case 'b':
-          case 'B':
-            base = 2; break;
-          case 'u':
-          case 'd':
-          case 'i':
-          default:
-            base = 10; break;
-        }
-
-        if (base == 2) {
-          org_v = v;
-          if ( v &lt; 0 &amp;&amp; !sign ) {
-            val = mrb_fix2binstr(mrb, mrb_fixnum_value(v), base);
-            dots = 1;
-          }
-          else {
-            val = mrb_fix2str(mrb, mrb_fixnum_value(v), base);
-          }
-          v = mrb_fixnum(mrb_str_to_inum(mrb, val, 10, 0/*Qfalse*/));
-        }
-        if (sign) {
-          char c = *p;
-          if (c == 'i') c = 'd'; /* %d and %i are identical */
-          if (base == 2) c = 'd';
-          if (v &lt; 0) {
-            v = -v;
-            sc = '-';
-            width--;
-          }
-          else if (flags &amp; FPLUS) {
-            sc = '+';
-            width--;
-          }
-          else if (flags &amp; FSPACE) {
-            sc = ' ';
-            width--;
-          }
-          snprintf(fbuf, sizeof(fbuf), &quot;%%l%c&quot;, c);
-          snprintf(nbuf, sizeof(nbuf), fbuf, v);
-          s = nbuf;
-        }
-        else {
-          char c = *p;
-          if (c == 'X') c = 'x';
-          if (base == 2) c = 'd';
-          s = nbuf;
-          if (v &lt; 0) {
-            dots = 1;
-          }
-          snprintf(fbuf, sizeof(fbuf), &quot;%%l%c&quot;, c);
-          snprintf(++s, sizeof(nbuf) - 1, fbuf, v);
-          if (v &lt; 0) {
-            char d;
-
-            s = remove_sign_bits(s, base);
-            switch (base) {
-              case 16: d = 'f'; break;
-              case 8:  d = '7'; break;
-              case 2:  d = '1'; break;
-              default: d = 0; break;
-            }
-
-            if (d &amp;&amp; *s != d) {
-              *--s = d;
-            }
-          }
-        }
-        len = (int)strlen(s);
-
-        if (dots) {
-          prec -= 2;
-          width -= 2;
-        }
-
-        if (*p == 'X') {
-          char *pp = s;
-          int c;
-          while ((c = (int)(unsigned char)*pp) != 0) {
-            *pp = toupper(c);
-            pp++;
-          }
-        }
-
-        if (prefix &amp;&amp; !prefix[1]) { /* octal */
-          if (dots) {
-            prefix = 0;
-          }
-          else if (len == 1 &amp;&amp; *s == '0') {
-            len = 0;
-            if (flags &amp; FPREC) prec--;
-          }
-          else if ((flags &amp; FPREC) &amp;&amp; (prec &gt; len)) {
-            prefix = 0;
-          }
-        }
-        else if (len == 1 &amp;&amp; *s == '0') {
-          prefix = 0;
-        }
-
-        if (prefix) {
-          width -= (int)strlen(prefix);
-        }
-
-        if ((flags &amp; (FZERO|FMINUS|FPREC)) == FZERO) {
-          prec = width;
-          width = 0;
-        }
-        else {
-          if (prec &lt; len) {
-            if (!prefix &amp;&amp; prec == 0 &amp;&amp; len == 1 &amp;&amp; *s == '0') len = 0;
-            prec = len;
-          }
-          width -= prec;
-        }
-
-        if (!(flags&amp;FMINUS)) {
-          CHECK(width);
-          while (width-- &gt; 0) {
-            buf[blen++] = ' ';
-          }
-        }
-
-        if (sc) PUSH(&amp;sc, 1);
-
-        if (prefix) {
-          int plen = (int)strlen(prefix);
-          PUSH(prefix, plen);
-        }
-        CHECK(prec - len);
-        if (dots) PUSH(&quot;..&quot;, 2);
-
-        if (v &lt; 0 || (base == 2 &amp;&amp; org_v &lt; 0)) {
-          char c = sign_bits(base, p);
-          while (len &lt; prec--) {
-            buf[blen++] = c;
-          }
-        }
-        else if ((flags &amp; (FMINUS|FPREC)) != FMINUS) {
-          char c = '0';
-          while (len &lt; prec--) {
-            buf[blen++] = c;
-          }
-        }
-
-        PUSH(s, len);
-        CHECK(width);
-        while (width-- &gt; 0) {
-          buf[blen++] = ' ';
-        }
-      }
-      break;
-
-      case 'f':
-      case 'g':
-      case 'G':
-      case 'e':
-      case 'E':
-      case 'a':
-      case 'A': {
-        mrb_value val = GETARG();
-        double fval;
-        int i, need = 6;
-        char fbuf[32];
-
-        fval = mrb_float(mrb_Float(mrb, val));
-        if (isnan(fval) || isinf(fval)) {
-          const char *expr;
-          const int elen = 3;
-
-          if (isnan(fval)) {
-            expr = &quot;NaN&quot;;
-          }
-          else {
-            expr = &quot;Inf&quot;;
-          }
-          need = elen;
-          if ((!isnan(fval) &amp;&amp; fval &lt; 0.0) || (flags &amp; FPLUS))
-            need++;
-          if ((flags &amp; FWIDTH) &amp;&amp; need &lt; width)
-            need = width;
-
-          CHECK(need + 1);
-          n = snprintf(&amp;buf[blen], need + 1, &quot;%*s&quot;, need, &quot;&quot;);
-          if (flags &amp; FMINUS) {
-            if (!isnan(fval) &amp;&amp; fval &lt; 0.0)
-              buf[blen++] = '-';
-            else if (flags &amp; FPLUS)
-              buf[blen++] = '+';
-            else if (flags &amp; FSPACE)
-              blen++;
-            memcpy(&amp;buf[blen], expr, elen);
-          }
-          else {
-            if (!isnan(fval) &amp;&amp; fval &lt; 0.0)
-              buf[blen + need - elen - 1] = '-';
-            else if (flags &amp; FPLUS)
-              buf[blen + need - elen - 1] = '+';
-            else if ((flags &amp; FSPACE) &amp;&amp; need &gt; width)
-              blen++;
-            memcpy(&amp;buf[blen + need - elen], expr, elen);
-          }
-          blen += strlen(&amp;buf[blen]);
-          break;
-        }
-
-        fmt_setup(fbuf, sizeof(fbuf), *p, flags, width, prec);
-        need = 0;
-        if (*p != 'e' &amp;&amp; *p != 'E') {
-          i = INT_MIN;
-          frexp(fval, &amp;i);
-          if (i &gt; 0)
-            need = BIT_DIGITS(i);
-        }
-        need += (flags&amp;FPREC) ? prec : 6;
-        if ((flags&amp;FWIDTH) &amp;&amp; need &lt; width)
-          need = width;
-        need += 20;
-
-        CHECK(need);
-        n = snprintf(&amp;buf[blen], need, fbuf, fval);
-        blen += n;
-      }
-      break;
-    }
-    flags = FNONE;
-  }
-
-  sprint_exit:
-#if 0
-  /* XXX - We cannot validate the number of arguments if (digit)$ style used.
-   */
-  if (posarg &gt;= 0 &amp;&amp; nextarg &lt; argc) {
-    const char *mesg = &quot;too many arguments for format string&quot;;
-    if (mrb_test(ruby_debug)) mrb_raise(mrb, E_ARGUMENT_ERROR, mesg);
-    if (mrb_test(ruby_verbose)) mrb_warn(&quot;%s&quot;, mesg);
-  }
-#endif
-  mrb_str_resize(mrb, result, blen);
-
-  return result;
-}
-
-static void
-fmt_setup(char *buf, size_t size, int c, int flags, int width, int prec)
-{
-  char *end = buf + size;
-  int n;
-
-  *buf++ = '%';
-  if (flags &amp; FSHARP) *buf++ = '#';
-  if (flags &amp; FPLUS)  *buf++ = '+';
-  if (flags &amp; FMINUS) *buf++ = '-';
-  if (flags &amp; FZERO)  *buf++ = '0';
-  if (flags &amp; FSPACE) *buf++ = ' ';
-
-  if (flags &amp; FWIDTH) {
-    n = snprintf(buf, end - buf, &quot;%d&quot;, width);
-    buf += n;
-  }
-
-  if (flags &amp; FPREC) {
-    n = snprintf(buf, end - buf, &quot;.%d&quot;, prec);
-    buf += n;
-  }
-
-  *buf++ = c;
-  *buf = '\0';
-}
-
-#endif	/* ENABLE_SPRINTF */
</pre>

  </body>
</html>
