<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>mruby build & test report</title>
    <style>
      pre {
        white-space: -moz-pre-wrap; /* Mozilla */
        white-space: -pre-wrap;     /* Opera 4-6 */
        white-space: -o-pre-wrap;   /* Opera 7 */
        white-space: pre-wrap;      /* CSS3 */
        word-wrap: break-word;      /* IE 5.5+ */
      }
      textarea {
        width: 100%;
        height: 400px;
        font-family: monospace !important;
        font-size: 12px !important;
      }
    </style>
  </head>
  <body>
    <a name="top"></a>
    <div style="background-color:#a0a0a0;">
      
        
        <a href="iij-mruby.html">iij-mruby</a>
      
        
        <a href="mruby-mruby.html">mruby-mruby</a>
      
    </div>

    
    

    <h1>mruby build & test report
      <span style="font-size:small;">(mruby/mruby - 483dce4)</span>
    </h1>

    <ul>
      <li><a href="http://github.com/mruby/mruby/commit/483dce4" target="_blank">commit info on github</a></li>
      
      
        
        
        
          <li><a href="mruby-mruby.html">back to mruby-mruby</a></li>
        
      
      <li>
      <pre>commit 483dce4b3339f98b9499322b0e958b05da06a569
Author: brainopia &lt;brainopia@evilmartians.com&gt;
Date:   Thu Feb 21 13:07:21 2013 +0400

    Clean up mrbconf.h
    
    - undef for windows is not used by default so comment it
    - casting to the same type is not needed
    - parenthesis are not needed for macro attributes separated by commas
    - change order of MRB_NAN_BOXING and MRB_INT64 to simplify logic

</pre>
      <a href="#commitlog">commit log</a>
      </li>
  </ul>

    <h2>mrbtest</h2>
    
    <table border="1">
      <tr>
        
          <th rowspan="2">Name</th>
        
          <th rowspan="2">Build-Status</th>
        
          <th rowspan="2">Mrbtest-Status</th>
        
          <th rowspan="2">Total</th>
        
          <th rowspan="2">OK</th>
        
          <th rowspan="2">KO</th>
        
          <th rowspan="2">Crash</th>
        
          <th rowspan="2">Fail</th>
        
          <th rowspan="2">Msg</th>
        
        <th colspan="2">FileSize (Byte)</th>
      </tr>
      <tr>
        
          <th>bin/mruby</th>
        
          <th>lib/libmruby.a</th>
        
      </tr>
      
        
        
        <tr style="background-color:#99ff99">
          <td><a href="#netbsd_mips">netbsd_mips</a></td>
          <td>success</td>
          <td>success</td>
          <td>521</td>
          <td>521</td>
          <td>0</td>
          <td>0</td>
          <td></td>
          <td></td>
          
            <td style="text-align:right;">973,828</td>
          
            <td style="text-align:right;">736,068</td>
          
        </tr>
      
    </table>

    

    <h2>environment <span style="font-size:small;"><a href="#top">#top</a></span></h2>
    <table border='1'>
      <tr>
        <th>Name</th>
        <th>software version</th>
      </tr>
      
        
        <tr>
          <td rowspan="3">netbsd_mips</td>
          <td><b>gcc</b><br/><pre></pre></td>
        </tr>
        <tr><td><b>make</b><br/><pre></pre></td></tr>
        <tr><td><b>bison</b><br/><pre></pre></td></tr>
      
    </table>

    <h2>Build Log</h2>
    
      
      <h3><a name="netbsd_mips">netbsd_mips</a> <span style="font-size:small;"><a href="#top">#top</a></span></h3>
      <table border='1' style="width:90%;">
        <tr>
          <th style="width:100px;">task</th>
          <th>stdout</th>
          <th>stderr</th>
        </tr>
        <tr>
          <th>make</th>
          <td><textarea>(in /home/mruby/mips/mruby-mruby-483dce4)
CC    tools/mruby/mruby.c -> build/host/tools/mruby/mruby.o
CC    src/range.c -> build/host/src/range.o
CC    src/array.c -> build/host/src/array.o
CC    src/numeric.c -> build/host/src/numeric.o
CC    src/pool.c -> build/host/src/pool.o
CC    src/compar.c -> build/host/src/compar.o
CC    src/crc.c -> build/host/src/crc.o
CC    src/proc.c -> build/host/src/proc.o
CC    src/math.c -> build/host/src/math.o
CC    src/state.c -> build/host/src/state.o
CC    src/print.c -> build/host/src/print.o
CC    src/vm.c -> build/host/src/vm.o
CC    src/class.c -> build/host/src/class.o
CC    src/load.c -> build/host/src/load.o
CC    src/codegen.c -> build/host/src/codegen.o
CC    src/symbol.c -> build/host/src/symbol.o
CC    src/etc.c -> build/host/src/etc.o
CC    src/gc.c -> build/host/src/gc.o
CC    src/st.c -> build/host/src/st.o
CC    src/struct.c -> build/host/src/struct.o
CC    src/init.c -> build/host/src/init.o
CC    src/dump.c -> build/host/src/dump.o
CC    src/kernel.c -> build/host/src/kernel.o
CC    src/hash.c -> build/host/src/hash.o
CC    src/string.c -> build/host/src/string.o
CC    src/sprintf.c -> build/host/src/sprintf.o
CC    src/variable.c -> build/host/src/variable.o
CC    src/object.c -> build/host/src/object.o
CC    src/time.c -> build/host/src/time.o
CC    src/enum.c -> build/host/src/enum.o
CC    src/error.c -> build/host/src/error.o
CC    src/re.c -> build/host/src/re.o
YACC  src/parse.y -> build/host/src/y.tab.c
CC    build/host/src/y.tab.c -> build/host/src/y.tab.o
CC    tools/mrbc/mrbc.c -> build/host/tools/mrbc/mrbc.o
AR    build/host/lib/libmruby_core.a 
LD    build/host/bin/mrbc 
GEN   *.rb -> build/host/mrblib/mrblib.c
      MRBC mrblib/kernel.rb 
      MRBC mrblib/compar.rb 
      MRBC mrblib/hash.rb 
      MRBC mrblib/numeric.rb 
      MRBC mrblib/class.rb 
      MRBC mrblib/string.rb 
      MRBC mrblib/enum.rb 
      MRBC mrblib/print.rb 
      MRBC mrblib/array.rb 
      MRBC mrblib/range.rb 
      MRBC mrblib/error.rb 
      MRBC mrblib/struct.rb 
CC    build/host/mrblib/mrblib.c -> build/host/mrblib/mrblib.o
AR    build/host/lib/libmruby.a 
LD    build/host/bin/mruby 
CC    tools/mirb/mirb.c -> build/host/tools/mirb/mirb.o
LD    build/host/bin/mirb 

Build summary:

================================================
      Config Name: host
 Output Directory: build/host
         Binaries: mruby, mrbc, mirb
================================================

</textarea></td>
          <td><textarea>ar: creating build/host/lib/libmruby_core.a
ar: creating build/host/lib/libmruby.a
</textarea></td>
        </tr>
        <tr>
          <th>make test</th>
          <td><textarea>(in /home/mruby/mips/mruby-mruby-483dce4)
CC    test/driver.c -> build/host/test/driver.o
GEN   *.rb -> build/host/test/mrbtest.c
      MRBC test/assert.rb 
      MRBC test/t/module.rb 
      MRBC test/t/math.rb 
      MRBC test/t/kernel.rb 
      MRBC test/t/integer.rb 
      MRBC test/t/gc.rb 
      MRBC test/t/standarderror.rb 
      MRBC test/t/basicobject.rb 
      MRBC test/t/object.rb 
      MRBC test/t/hash.rb 
      MRBC test/t/comparable.rb 
      MRBC test/t/exception.rb 
      MRBC test/t/numeric.rb 
      MRBC test/t/bs_literal.rb 
      MRBC test/t/false.rb 
      MRBC test/t/float.rb 
      MRBC test/t/class.rb 
      MRBC test/t/nomethoderror.rb 
      MRBC test/t/true.rb 
      MRBC test/t/nil.rb 
      MRBC test/t/rangeerror.rb 
      MRBC test/t/typeerror.rb 
      MRBC test/t/proc.rb 
      MRBC test/t/literals.rb 
      MRBC test/t/indexerror.rb 
      MRBC test/t/nameerror.rb 
      MRBC test/t/bs_block.rb 
      MRBC test/t/regexperror.rb 
      MRBC test/t/string.rb 
      MRBC test/t/argumenterror.rb 
      MRBC test/t/runtimeerror.rb 
      MRBC test/t/array.rb 
      MRBC test/t/range.rb 
      MRBC test/t/syntax.rb 
      MRBC test/t/localjumperror.rb 
      MRBC test/t/struct.rb 
      MRBC test/t/symbol.rb 
      MRBC test/t/enumerable.rb 
      MRBC test/t/time.rb 
CC    build/host/test/mrbtest.c -> build/host/test/mrbtest.o
AR    build/host/test/mrbtest.a 
LD    build/host/test/mrbtest 
>>> Test host <<<
mrbtest - Embeddable Ruby Test

This is a very early version, please test and report errors.
Thanks :)

.........................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
Total: 521
   OK: 521
   KO: 0
Crash: 0
 Time: 19.320405 seconds

</textarea></td>
          <td><textarea>ar: creating build/host/test/mrbtest.a
</textarea></td>
        </tr>
        
      </table>
    

    <h2><a name="commitlog">commit log</a> <span style="font-size:small;"><a href="#top">#top</a></span></h2>
      <pre>commit 483dce4b3339f98b9499322b0e958b05da06a569
Author: brainopia &lt;brainopia@evilmartians.com&gt;
Date:   Thu Feb 21 13:07:21 2013 +0400

    Clean up mrbconf.h
    
    - undef for windows is not used by default so comment it
    - casting to the same type is not needed
    - parenthesis are not needed for macro attributes separated by commas
    - change order of MRB_NAN_BOXING and MRB_INT64 to simplify logic

diff --git a/include/mrbconf.h b/include/mrbconf.h
index b5cb58e..175383e 100644
--- a/include/mrbconf.h
+++ b/include/mrbconf.h
@@ -54,48 +54,39 @@
 /* Now DISABLE_GEMS is added as a command line flag in Rakefile, */
 /* we do not need to set it here. */
 
-#undef  HAVE_UNISTD_H /* WINDOWS */
+//#undef  HAVE_UNISTD_H /* WINDOWS */
 #define HAVE_UNISTD_H /* LINUX */
 
 /* end of configuration */
 
 #ifdef MRB_USE_FLOAT
   typedef float mrb_float;
-# define mrb_float_to_str(buf, i) sprintf((buf), &quot;%.7e&quot;, (i))
-# define str_to_mrb_float(buf) (mrb_float)strtof((buf),NULL)
+# define mrb_float_to_str(buf, i) sprintf(buf, &quot;%.7e&quot;, i)
+# define str_to_mrb_float(buf) strtof(buf, NULL)
 #else
   typedef double mrb_float;
-# define mrb_float_to_str(buf, i) sprintf((buf), &quot;%.16e&quot;, (i))
-# define str_to_mrb_float(buf) (mrb_float)strtod((buf),NULL)
+# define mrb_float_to_str(buf, i) sprintf(buf, &quot;%.16e&quot;, i)
+# define str_to_mrb_float(buf) strtod(buf, NULL)
 #endif
 
-#ifdef MRB_NAN_BOXING
-# ifdef MRB_INT64
+#ifdef MRB_INT64
+# ifdef MRB_NAN_BOXING
 #  error Cannot use NaN boxing when mrb_int is 64bit
 # else
-   typedef int32_t mrb_int;
-#  define MRB_INT_MIN INT32_MIN
-#  define MRB_INT_MAX INT32_MAX
-#  define MRB_INT_FORMAT PRId32
-#  define mrb_int_to_str(buf, i) sprintf((buf), &quot;%&quot; MRB_INT_FORMAT, (i))
-#  define str_to_mrb_int(buf) (mrb_int)strtol((buf), NULL, 10)
-# endif
-#else
-# ifdef MRB_INT64
    typedef int64_t mrb_int;
 #  define MRB_INT_MIN INT64_MIN
 #  define MRB_INT_MAX INT64_MAX
 #  define MRB_INT_FORMAT PRId64
-#  define mrb_int_to_str(buf, i) sprintf((buf), &quot;%&quot; MRB_INT_FORMAT, (i))
-#  define str_to_mrb_int(buf) (mrb_int)strtoll((buf), NULL, 10)
-# else
-   typedef int32_t mrb_int;
-#  define MRB_INT_MIN INT32_MIN
-#  define MRB_INT_MAX INT32_MAX
-#  define MRB_INT_FORMAT PRId32
-#  define mrb_int_to_str(buf, i) sprintf((buf), &quot;%&quot; MRB_INT_FORMAT, (i))
-#  define str_to_mrb_int(buf) (mrb_int)strtol((buf), NULL, 10)
+#  define mrb_int_to_str(buf, i) sprintf(buf, &quot;%&quot; MRB_INT_FORMAT, i)
+#  define str_to_mrb_int(buf) strtoll(buf, NULL, 10)
 # endif
+#else
+  typedef int32_t mrb_int;
+# define MRB_INT_MIN INT32_MIN
+# define MRB_INT_MAX INT32_MAX
+# define MRB_INT_FORMAT PRId32
+# define mrb_int_to_str(buf, i) sprintf(buf, &quot;%&quot; MRB_INT_FORMAT, i)
+# define str_to_mrb_int(buf) strtol(buf, NULL, 10)
 #endif
 typedef short mrb_sym;
 
</pre>

  </body>
</html>
